{"version":3,"file":"js/1.js","sources":["webpack:///./node_modules/@liquality/wallet-core/dist/src/nameResolvers/uns.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/FetchProvider.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/NamingService.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/Resolution.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/UdApi.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/Uns.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/UnsInternal.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/Zns.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/contracts/EthereumContract.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/contracts/uns/proxyReader.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/errors/configurationError.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/errors/dnsRecordsError.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/errors/resolutionError.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/index.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/types/index.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/types/publicTypes.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/DnsUtils.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/Eip1993Factories.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/Networking.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/TwitterSignatureValidator.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/index.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/namehash.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/prepareAndValidate.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/recoverSignature.js","webpack:///./node_modules/@unstoppabledomains/resolution/build/utils/znsUtils.js","webpack:///./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack:///./node_modules/crypto-js/enc-hex.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUNSKey = exports.UNSResolver = void 0;\nconst tslib_1 = require(\"tslib\");\nconst client_1 = require(\"@chainify/client\");\nconst cryptoassets_1 = require(\"@liquality/cryptoassets\");\nconst types_1 = require(\"@liquality/cryptoassets/dist/src/types\");\nconst resolution_1 = require(\"@unstoppabledomains/resolution\");\nconst build_config_1 = tslib_1.__importDefault(require(\"../build.config\"));\nconst reg = RegExp('^[.a-z0-9-]+$');\nconst resolution = new resolution_1.Resolution();\nconst unsConfig = build_config_1.default.nameResolvers.uns;\nfunction getUNSKey(asset, noVersion = false) {\n    const symbol = asset.matchingAsset ? asset.matchingAsset : asset.code;\n    if (noVersion) {\n        return `crypto.${symbol}.address`;\n    }\n    const chainKey = multiAssetChainKey(asset.chain);\n    if (chainKey) {\n        if (asset.type == cryptoassets_1.AssetTypes.native && asset.chain != cryptoassets_1.ChainId.Polygon) {\n            return `crypto.${symbol}.address`;\n        }\n        return `crypto.${symbol}.version.${chainKey}.address`;\n    }\n    else {\n        return `crypto.${symbol}.address`;\n    }\n}\nexports.getUNSKey = getUNSKey;\nfunction multiAssetChainKey(chainId) {\n    var _a;\n    return ((_a = (0, cryptoassets_1.getChain)(types_1.Network.Mainnet, chainId).nameService) === null || _a === void 0 ? void 0 : _a.uns) || null;\n}\nclass UNSResolver {\n    lookupDomain(address, asset) {\n        var _a, _b;\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            try {\n                const domain = this.preparedDomain(address);\n                if (yield this.isValidTLD(domain)) {\n                    const data = yield client_1.HttpClient.get(unsConfig.resolutionService + domain, {}, { headers: { Authorization: `Bearer ${unsConfig.alchemyKey}` } });\n                    return (_b = (_a = data === null || data === void 0 ? void 0 : data.records[getUNSKey(asset)]) !== null && _a !== void 0 ? _a : data === null || data === void 0 ? void 0 : data.records[getUNSKey(asset, true)]) !== null && _b !== void 0 ? _b : null;\n                }\n                return null;\n            }\n            catch (e) {\n                return null;\n            }\n        });\n    }\n    isValidTLD(domain) {\n        var _a, _b;\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (!this.supportedTlds) {\n                const data = yield client_1.HttpClient.get(unsConfig.tldAPI);\n                if (data.tlds) {\n                    this.supportedTlds = data.tlds;\n                }\n            }\n            return (_b = (_a = this.supportedTlds) === null || _a === void 0 ? void 0 : _a.some((tld) => domain.endsWith(tld))) !== null && _b !== void 0 ? _b : false;\n        });\n    }\n    preparedDomain(domain) {\n        const retVal = domain ? domain.trim().toLowerCase() : '';\n        if (!reg.test(retVal)) {\n            throw 'Invalid domain name';\n        }\n        return retVal;\n    }\n    reverseLookup(address) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            try {\n                const domain = yield resolution.reverse(address);\n                return domain;\n            }\n            catch (e) {\n                return null;\n            }\n        });\n    }\n}\nexports.UNSResolver = UNSResolver;\n//# sourceMappingURL=uns.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar resolutionError_1 = __importStar(require(\"./errors/resolutionError\"));\nvar Networking_1 = __importDefault(require(\"./utils/Networking\"));\nvar FetchProvider = /** @class */ (function () {\n    function FetchProvider(name, url) {\n        this.url = url;\n        this.name = name;\n    }\n    // This is used for test mocking\n    FetchProvider.factory = function (name, url) {\n        return new this(name, url);\n    };\n    FetchProvider.prototype.request = function (args) {\n        return __awaiter(this, void 0, void 0, function () {\n            var json;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.fetchJson(args)];\n                    case 1:\n                        json = _a.sent();\n                        if (json.error) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                                providerMessage: json.error.message,\n                            });\n                        }\n                        return [2 /*return*/, json.result];\n                }\n            });\n        });\n    };\n    FetchProvider.prototype.fetchJson = function (args) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Networking_1.default.fetch(this.url, {\n                            method: 'POST',\n                            body: JSON.stringify({\n                                jsonrpc: '2.0',\n                                id: '1',\n                                method: args.method,\n                                params: args.params || [],\n                            }),\n                            headers: {\n                                'Content-Type': 'application/json',\n                            },\n                        })];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status !== 200) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                                providerMessage: \"Request to \".concat(this.url, \" failed with response status \").concat(response.status),\n                            });\n                        }\n                        return [2 /*return*/, response.json()];\n                }\n            });\n        });\n    };\n    return FetchProvider;\n}());\nexports.default = FetchProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NamingService = void 0;\n/**\n * @internal\n */\nvar NamingService = /** @class */ (function () {\n    function NamingService() {\n    }\n    return NamingService;\n}());\nexports.NamingService = NamingService;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Resolution = void 0;\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\nvar Zns_1 = __importDefault(require(\"./Zns\"));\nvar Uns_1 = __importDefault(require(\"./Uns\"));\nvar UdApi_1 = __importDefault(require(\"./UdApi\"));\nvar publicTypes_1 = require(\"./types/publicTypes\");\nvar resolutionError_1 = __importStar(require(\"./errors/resolutionError\"));\nvar DnsUtils_1 = __importDefault(require(\"./utils/DnsUtils\"));\nvar utils_1 = require(\"./utils\");\nvar Eip1993Factories_1 = require(\"./utils/Eip1993Factories\");\nvar Networking_1 = __importDefault(require(\"./utils/Networking\"));\nvar prepareAndValidate_1 = require(\"./utils/prepareAndValidate\");\nvar namehash_1 = require(\"./utils/namehash\");\n/**\n * Blockchain domain Resolution library - Resolution.\n * @example\n * ```\n * import Resolution from '@unstoppabledomains/resolution';\n *\n * let resolution = new Resolution({ blockchain: {\n *        uns: {\n *           url: \"https://eth-mainnet.alchemyapi.io/v2/GmQ8X1FHf-WDEry0BBSn0RgjVhjHkRmS\",\n *           network: \"mainnet\"\n *        }\n *      }\n *   });\n *\n * let domain = \"brad.zil\";\n * resolution.addr(domain, \"eth\").then(addr => console.log(addr));;\n * ```\n */\nvar Resolution = /** @class */ (function () {\n    function Resolution(_a) {\n        var _b;\n        var _c = _a === void 0 ? {} : _a, _d = _c.sourceConfig, sourceConfig = _d === void 0 ? undefined : _d;\n        var uns = isApi(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.uns)\n            ? new UdApi_1.default(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.uns)\n            : new Uns_1.default(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.uns);\n        var zns = isApi(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.zns)\n            ? new UdApi_1.default(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.zns)\n            : new Zns_1.default(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.zns);\n        // If both UNS and ZNS use the same UdApi providers, we don't want to call the API twice as it would return same\n        // responses. It should be enough to compare just the URLs, as the network param isn't actually used in the calls.\n        var equalUdApiProviders = uns instanceof UdApi_1.default && zns instanceof UdApi_1.default && uns.url === zns.url;\n        // If a user configures the lib with an API source, we still want to initialise native blockchain services to access\n        // some non-async methods such as namehash, as they are unavailable in the UdApi service.\n        this.serviceMap = (_b = {},\n            _b[publicTypes_1.NamingServiceName.UNS] = {\n                usedServices: [uns],\n                native: isApi(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.uns) ? new Uns_1.default() : uns,\n            },\n            _b[publicTypes_1.NamingServiceName.ZNS] = {\n                usedServices: equalUdApiProviders ? [uns] : [uns, zns],\n                native: isApi(sourceConfig === null || sourceConfig === void 0 ? void 0 : sourceConfig.zns) ? new Zns_1.default() : zns,\n            },\n            _b);\n    }\n    /**\n     * AutoConfigure the blockchain network for UNS\n     * We make a \"net_version\" JSON RPC call to the blockchain either via url or with the help of given provider.\n     * @param sourceConfig - configuration object for uns\n     * @returns configured Resolution object\n     */\n    Resolution.autoNetwork = function (sourceConfig) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolution, uns;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        resolution = new this();\n                        if (!sourceConfig.uns) return [3 /*break*/, 2];\n                        return [4 /*yield*/, Uns_1.default.autoNetwork(sourceConfig.uns)];\n                    case 1:\n                        uns = _a.sent();\n                        resolution.serviceMap[publicTypes_1.NamingServiceName.UNS] = {\n                            usedServices: [uns],\n                            native: uns,\n                        };\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, resolution];\n                }\n            });\n        });\n    };\n    /**\n     * Creates a resolution with configured infura id for uns\n     * @param infura - infura project id\n     * @param networks - an optional object that describes what network to use when connecting UNS default is mainnet\n     */\n    Resolution.infura = function (infura, networks) {\n        var _a, _b, _c, _d;\n        return new this({\n            sourceConfig: {\n                uns: {\n                    locations: {\n                        Layer1: {\n                            url: (0, utils_1.signedLink)(infura, ((_a = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _a === void 0 ? void 0 : _a.locations.Layer1.network) || 'mainnet', 'infura'),\n                            network: ((_b = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _b === void 0 ? void 0 : _b.locations.Layer1.network) || 'mainnet',\n                        },\n                        Layer2: {\n                            url: (0, utils_1.signedLink)(infura, ((_c = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _c === void 0 ? void 0 : _c.locations.Layer2.network) || 'polygon-mainnet', 'infura'),\n                            network: ((_d = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _d === void 0 ? void 0 : _d.locations.Layer2.network) || 'polygon-mainnet',\n                        },\n                    },\n                },\n            },\n        });\n    };\n    /**\n     * Creates a resolution with configured alchemy API keys for uns\n     * @param alchemy - alchemy API keys\n     * @param networks - an optional object that describes what network to use when connecting UNS default is mainnet\n     */\n    Resolution.alchemy = function (alchemy, networks) {\n        var _a, _b, _c, _d;\n        return new this({\n            sourceConfig: {\n                uns: {\n                    locations: {\n                        Layer1: {\n                            url: (0, utils_1.signedLink)(alchemy, ((_a = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _a === void 0 ? void 0 : _a.locations.Layer1.network) || 'mainnet'),\n                            network: ((_b = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _b === void 0 ? void 0 : _b.locations.Layer1.network) || 'mainnet',\n                        },\n                        Layer2: {\n                            url: (0, utils_1.signedLink)(alchemy, ((_c = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _c === void 0 ? void 0 : _c.locations.Layer2.network) || 'polygon-mainnet'),\n                            network: ((_d = networks === null || networks === void 0 ? void 0 : networks.uns) === null || _d === void 0 ? void 0 : _d.locations.Layer2.network) || 'polygon-mainnet',\n                        },\n                    },\n                },\n            },\n        });\n    };\n    /**\n     * Creates a resolution instance with configured provider\n     * @param networks - an object that describes what network to use when connecting UNS or ZNS default is mainnet\n     * @see https://eips.ethereum.org/EIPS/eip-1193\n     */\n    Resolution.fromResolutionProvider = function (networks) {\n        if (networks.uns) {\n            return this.fromEthereumEip1193Provider({\n                uns: networks.uns,\n            });\n        }\n        if (networks.zns) {\n            return this.fromZilliqaProvider(networks.zns.provider, networks);\n        }\n        throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n            providerMessage: 'Must specify network for uns or zns',\n        });\n    };\n    /**\n     * Creates a resolution instance with configured provider\n     * @param networks - an object that describes what network to use when connecting UNS default is mainnet\n     * @see https://eips.ethereum.org/EIPS/eip-1193\n     */\n    Resolution.fromEthereumEip1193Provider = function (networks) {\n        var sourceConfig = {};\n        if (networks.uns) {\n            sourceConfig.uns = {\n                locations: {\n                    Layer1: {\n                        provider: networks.uns.locations.Layer1.provider,\n                        network: networks.uns.locations.Layer1.network || 'mainnet',\n                    },\n                    Layer2: {\n                        provider: networks.uns.locations.Layer2.provider,\n                        network: networks.uns.locations.Layer2.network || 'polygon-mainnet',\n                    },\n                },\n            };\n        }\n        return new this({\n            sourceConfig: sourceConfig,\n        });\n    };\n    /**\n     * Creates a resolution instance with configured provider\n     * @param provider - any provider compatible with EIP-1193\n     * @param networks - an optional object that describes what network to use when connecting ZNS default is mainnet\n     * @see https://eips.ethereum.org/EIPS/eip-1193\n     */\n    Resolution.fromZilliqaProvider = function (provider, networks) {\n        var _a;\n        return new this({\n            sourceConfig: {\n                zns: { provider: provider, network: ((_a = networks === null || networks === void 0 ? void 0 : networks.zns) === null || _a === void 0 ? void 0 : _a.network) || 'mainnet' },\n            },\n        });\n    };\n    /**\n     * Create a resolution instance from web3 0.x version provider\n     * @param networks - Ethereum network configuration with 0.x version provider from web3 ( must implement sendAsync(payload, callback) )\n     * @see https://github.com/ethereum/web3.js/blob/0.20.7/lib/web3/httpprovider.js#L116\n     */\n    Resolution.fromWeb3Version0Provider = function (networks) {\n        return this.fromEthereumEip1193Provider({\n            uns: networks.uns\n                ? {\n                    locations: {\n                        Layer1: {\n                            network: networks.uns.locations.Layer1.network,\n                            provider: Eip1993Factories_1.Eip1993Factories.fromWeb3Version0Provider(networks.uns.locations.Layer1.provider),\n                        },\n                        Layer2: {\n                            network: networks.uns.locations.Layer2.network,\n                            provider: Eip1993Factories_1.Eip1993Factories.fromWeb3Version0Provider(networks.uns.locations.Layer2.provider),\n                        },\n                    },\n                }\n                : undefined,\n        });\n    };\n    /**\n     * Create a resolution instance from web3 1.x version provider\n     * @param networks - an optional object with 1.x version provider from web3 ( must implement send(payload, callback) ) that describes what network to use when connecting UNS default is mainnet\n     * @see https://github.com/ethereum/web3.js/blob/1.x/packages/web3-core-helpers/types/index.d.ts#L165\n     * @see https://github.com/ethereum/web3.js/blob/1.x/packages/web3-providers-http/src/index.js#L95\n     */\n    Resolution.fromWeb3Version1Provider = function (networks) {\n        return this.fromEthereumEip1193Provider({\n            uns: networks.uns\n                ? {\n                    locations: {\n                        Layer1: {\n                            network: networks.uns.locations.Layer1.network,\n                            provider: Eip1993Factories_1.Eip1993Factories.fromWeb3Version1Provider(networks.uns.locations.Layer1.provider),\n                        },\n                        Layer2: {\n                            network: networks.uns.locations.Layer2.network,\n                            provider: Eip1993Factories_1.Eip1993Factories.fromWeb3Version1Provider(networks.uns.locations.Layer2.provider),\n                        },\n                    },\n                }\n                : undefined,\n        });\n    };\n    /**\n     * Creates instance of resolution from provider that implements Ethers Provider#call interface.\n     * This wrapper support only `eth_call` method for now, which is enough for all the current Resolution functionality\n     * @param networks - an object that describes what network to use when connecting UNS default is mainnet\n     * @see https://github.com/ethers-io/ethers.js/blob/v4-legacy/providers/abstract-provider.d.ts#L91\n     * @see https://github.com/ethers-io/ethers.js/blob/v5.0.4/packages/abstract-provider/src.ts/index.ts#L224\n     * @see https://docs.ethers.io/ethers.js/v5-beta/api-providers.html#jsonrpcprovider-inherits-from-provider\n     * @see https://github.com/ethers-io/ethers.js/blob/master/packages/providers/src.ts/json-rpc-provider.ts\n     */\n    Resolution.fromEthersProvider = function (networks) {\n        return this.fromEthereumEip1193Provider({\n            uns: networks.uns\n                ? {\n                    locations: {\n                        Layer1: {\n                            network: networks.uns.locations.Layer1.network,\n                            provider: Eip1993Factories_1.Eip1993Factories.fromEthersProvider(networks.uns.locations.Layer1.provider),\n                        },\n                        Layer2: {\n                            network: networks.uns.locations.Layer2.network,\n                            provider: Eip1993Factories_1.Eip1993Factories.fromEthersProvider(networks.uns.locations.Layer2.provider),\n                        },\n                    },\n                }\n                : undefined,\n        });\n    };\n    /**\n     * Resolves given domain name to a specific currency address if exists\n     * @async\n     * @param domain - domain name to be resolved\n     * @param ticker - currency ticker like BTC, ETH, ZIL\n     * @throws [[ResolutionError]] if address is not found\n     * @returns A promise that resolves in an address\n     */\n    Resolution.prototype.addr = function (domain, ticker) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.record(domain, \"crypto.\".concat(ticker.toUpperCase(), \".address\"))];\n            });\n        });\n    };\n    /**\n     * Read multi-chain currency address if exists\n     * @async\n     * @param domain - domain name to be resolved\n     * @param ticker - currency ticker (USDT, FTM, etc.)\n     * @param chain - chain version, usually means blockchain ( ERC20, BEP2, OMNI, etc. )\n     * @throws [[ResolutionError]] if address is not found\n     * @returns A promise that resolves in an adress\n     */\n    Resolution.prototype.multiChainAddr = function (domain, ticker, chain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var recordKey;\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                recordKey = \"crypto.\".concat(ticker.toUpperCase(), \".version.\").concat(chain.toUpperCase(), \".address\");\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.record(domain, recordKey);\n                    })];\n            });\n        });\n    };\n    /**\n     * Resolves given domain name to a verified twitter handle\n     * @async\n     * @param domain - domain name to be resolved\n     * @throws [[ResolutionError]] if twitter is not found\n     * @returns A promise that resolves in a verified twitter handle\n     */\n    Resolution.prototype.twitter = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.twitter(domain);\n                    })];\n            });\n        });\n    };\n    /**\n     * Resolve a chat id from the domain record\n     * @param domain - domain name to be resolved\n     * @throws [[ResolutionError]]\n     * @returns A promise that resolves in chatId\n     */\n    Resolution.prototype.chatId = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.record(domain, 'gundb.username.value')];\n            });\n        });\n    };\n    /**\n     * Resolve a gundb public key from the domain record\n     * @param domain - domain name to be resolved\n     * @throws [[ResolutionError]]\n     * @returns a promise that resolves in gundb public key\n     */\n    Resolution.prototype.chatPk = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.record(domain, 'gundb.public_key.value')];\n            });\n        });\n    };\n    /**\n     * Resolves the IPFS hash configured for domain records on ZNS\n     * @param domain - domain name\n     * @throws [[ResolutionError]]\n     */\n    Resolution.prototype.ipfsHash = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.getPreferableNewRecord(domain, 'dweb.ipfs.hash', 'ipfs.html.value')];\n            });\n        });\n    };\n    /**\n     * Resolves the httpUrl attached to domain\n     * @param domain - domain name\n     */\n    Resolution.prototype.httpUrl = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.getPreferableNewRecord(domain, 'browser.redirect_url', 'ipfs.redirect_domain.value')];\n            });\n        });\n    };\n    /**\n     * Resolves the ipfs email field from whois configurations\n     * @param domain - domain name\n     * @throws [[ResolutionError]]\n     * @returns A Promise that resolves in an email address configured for this domain whois\n     */\n    Resolution.prototype.email = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.record(domain, 'whois.email.value')];\n            });\n        });\n    };\n    /**\n     * @returns the resolver address for a specific domain\n     * @param domain - domain to look for\n     */\n    Resolution.prototype.resolver = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolver;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                        return [4 /*yield*/, this.callServiceForDomain(domain, function (service) {\n                                return service.resolver(domain);\n                            })];\n                    case 1:\n                        resolver = _a.sent();\n                        if (!resolver) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnspecifiedResolver, {\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, resolver];\n                }\n            });\n        });\n    };\n    /**\n     * @param domain - domain name\n     * @returns An owner address of the domain\n     */\n    Resolution.prototype.owner = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.owner(domain);\n                    })];\n            });\n        });\n    };\n    /**\n     * @param domain - domain name\n     * @param recordKey - a name of a record to be resolved\n     * @returns A record value promise for a given record name\n     */\n    Resolution.prototype.record = function (domain, recordKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.record(domain, recordKey);\n                    })];\n            });\n        });\n    };\n    /**\n     * @param domain domain name\n     * @param keys Array of record keys to be resolved\n     * @returns A Promise with key-value mapping of domain records\n     */\n    Resolution.prototype.records = function (domain, keys) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.records(domain, keys);\n                    })];\n            });\n        });\n    };\n    /**\n     * @param domain domain name\n     * @returns A Promise of whether or not the domain belongs to a wallet\n     */\n    Resolution.prototype.isRegistered = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomainBoolean(domain, function (service) { return service.isRegistered(domain); }, {\n                        throwIfUnsupportedDomain: true,\n                        expectedValue: true,\n                    })];\n            });\n        });\n    };\n    /**\n     * @param domain domain name\n     * @returns A Promise of whether or not the domain is available\n     */\n    Resolution.prototype.isAvailable = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomainBoolean(domain, function (service) { return service.isAvailable(domain); }, {\n                        throwIfUnsupportedDomain: true,\n                        expectedValue: false,\n                    })];\n            });\n        });\n    };\n    /**\n     * @returns Produces a namehash from supported naming service in hex format with 0x prefix.\n     * Corresponds to ERC721 token id in case of Ethereum based naming service like UNS.\n     * @param domain domain name to be converted\n     * @param namingService \"UNS\" or \"ZNS\" (uses keccak256 or sha256 algorithm respectively)\n     * @param options formatting options\n     * @throws [[ResolutionError]] with UnsupportedDomain error code if domain extension is unknown\n     */\n    Resolution.prototype.namehash = function (domain, namingService, options) {\n        if (options === void 0) { options = publicTypes_1.NamehashOptionsDefault; }\n        var service = this.serviceMap[namingService];\n        if (!service) {\n            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedService, {\n                namingService: namingService,\n            });\n        }\n        domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n        return this.formatNamehash(service.native.namehash(domain), options);\n    };\n    /**\n     * @returns a namehash of a subdomain with name label\n     * @param parent namehash of a parent domain\n     * @param label subdomain name\n     * @param namingService \"UNS\" or \"ZNS\" (uses keccak256 or sha256 algorithm respectively)\n     * @param options formatting options\n     */\n    Resolution.prototype.childhash = function (parent, label, namingService, options) {\n        if (options === void 0) { options = publicTypes_1.NamehashOptionsDefault; }\n        var service = this.serviceMap[namingService];\n        if (!service) {\n            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedService, {\n                namingService: namingService,\n            });\n        }\n        return this.formatNamehash(service.native.childhash(parent, label), options);\n    };\n    Resolution.prototype.formatNamehash = function (hash, options) {\n        hash = hash.replace('0x', '');\n        if (options.format === 'dec') {\n            return new bn_js_1.default(hash, 'hex').toString(10);\n        }\n        else {\n            return options.prefix ? '0x' + hash : hash;\n        }\n    };\n    /**\n     * Checks weather the domain name matches the hash\n     * @param domain - domain name to check against\n     * @param hash - hash obtained from the blockchain\n     * @param namingService - \"UNS\" or \"ZNS\" (uses keccak256 or sha256 algorithm respectively)\n     */\n    Resolution.prototype.isValidHash = function (domain, hash, namingService) {\n        var service = this.serviceMap[namingService];\n        if (!service) {\n            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedService, {\n                namingService: namingService,\n            });\n        }\n        domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n        return service.native.namehash(domain) === hash;\n    };\n    /**\n     * Checks if the domain name is valid according to naming service rules\n     * for valid domain names.\n     * @param domain - domain name to be checked\n     */\n    Resolution.prototype.isSupportedDomain = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomainBoolean(domain, function (service) { return service.isSupportedDomain(domain); }, {\n                        throwIfUnsupportedDomain: false,\n                        expectedValue: true,\n                    })];\n            });\n        });\n    };\n    /**\n     * Returns all record keys of the domain.\n     * This method is strongly unrecommended for production use due to lack of support for many ethereum service providers and low performance\n     * @param domain - domain name\n     */\n    Resolution.prototype.allRecords = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.allRecords(domain);\n                    })];\n            });\n        });\n    };\n    Resolution.prototype.allNonEmptyRecords = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var records, nonEmptyRecords, _i, _a, _b, key, value;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, this.allRecords(domain)];\n                    case 1:\n                        records = _c.sent();\n                        nonEmptyRecords = {};\n                        for (_i = 0, _a = Object.entries(records); _i < _a.length; _i++) {\n                            _b = _a[_i], key = _b[0], value = _b[1];\n                            if (value) {\n                                nonEmptyRecords[key] = value;\n                            }\n                        }\n                        return [2 /*return*/, nonEmptyRecords];\n                }\n            });\n        });\n    };\n    Resolution.prototype.dns = function (domain, types) {\n        return __awaiter(this, void 0, void 0, function () {\n            var dnsUtils, dnsRecordKeys, blockchainData;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        dnsUtils = new DnsUtils_1.default();\n                        domain = (0, prepareAndValidate_1.prepareAndValidateDomain)(domain);\n                        dnsRecordKeys = this.getDnsRecordKeys(types);\n                        return [4 /*yield*/, this.callServiceForDomain(domain, function (service) {\n                                return service.records(domain, dnsRecordKeys);\n                            })];\n                    case 1:\n                        blockchainData = _a.sent();\n                        return [2 /*return*/, dnsUtils.toList(blockchainData)];\n                }\n            });\n        });\n    };\n    /**\n     * Retrieves the tokenURI from the registry smart contract.\n     * @returns the ERC721Metadata#tokenURI contract method result\n     * @param domain - domain name\n     */\n    Resolution.prototype.tokenURI = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var namehash;\n            return __generator(this, function (_a) {\n                namehash = this.namehash(domain, publicTypes_1.NamingServiceName.UNS);\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.getTokenUri(namehash);\n                    })];\n            });\n        });\n    };\n    /**\n     * Retrieves the data from the endpoint provided by tokenURI from the registry smart contract.\n     * @returns the JSON response of the token URI endpoint\n     * @param domain - domain name\n     */\n    Resolution.prototype.tokenURIMetadata = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenUri;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.tokenURI(domain)];\n                    case 1:\n                        tokenUri = _a.sent();\n                        return [2 /*return*/, this.getMetadataFromTokenURI(tokenUri)];\n                }\n            });\n        });\n    };\n    /**\n     * Retrieves address of registry contract used for domain\n     * @param domain - domain name\n     * @returns Registry contract address\n     */\n    Resolution.prototype.registryAddress = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.callServiceForDomain(domain, function (service) {\n                        return service.registryAddress(domain);\n                    })];\n            });\n        });\n    };\n    /**\n     * Retrieves the domain name from tokenId by parsing registry smart contract event logs.\n     * @throws {ResolutionError} if returned domain name doesn't match the original namhash.\n     * @returns the domain name retrieved from token metadata\n     * @param hash - domain hash\n     * @param service - nameservice which is used for lookup\n     */\n    Resolution.prototype.unhash = function (hash, service) {\n        return __awaiter(this, void 0, void 0, function () {\n            var services, method;\n            return __generator(this, function (_a) {\n                hash = (0, namehash_1.fromDecStringToHex)(hash);\n                services = this.serviceMap[service].usedServices;\n                method = services[services.length - 1];\n                return [2 /*return*/, method.getDomainFromTokenId(hash)];\n            });\n        });\n    };\n    /**\n     * Retrieves address of registry contract used for domain\n     * @param domains - domain name\n     * @returns Promise<Locations> - A map of domain name and Location (a set of attributes like blockchain,\n     */\n    Resolution.prototype.locations = function (domains) {\n        return __awaiter(this, void 0, void 0, function () {\n            var zilDomains, unsPromise, znsServices, znsService, znsPromise, unsLocations, emptyZilEntries, znsLocations, _i, emptyZilEntries_1, _a, domain, _location;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        zilDomains = domains.filter(function (domain) { return domain.endsWith('.zil'); });\n                        unsPromise = this.serviceMap.UNS.usedServices[0].locations(domains);\n                        if (!zilDomains.length) {\n                            return [2 /*return*/, unsPromise];\n                        }\n                        znsServices = this.serviceMap.ZNS.usedServices;\n                        znsService = znsServices[znsServices.length - 1];\n                        znsPromise = (0, utils_1.wrapResult)(function () { return znsService.locations(zilDomains); });\n                        return [4 /*yield*/, unsPromise];\n                    case 1:\n                        unsLocations = _b.sent();\n                        emptyZilEntries = Object.entries(unsLocations).filter(function (_a) {\n                            var domain = _a[0], location = _a[1];\n                            return domain.endsWith('.zil') && !location;\n                        });\n                        if (!emptyZilEntries.length) {\n                            return [2 /*return*/, unsLocations];\n                        }\n                        return [4 /*yield*/, znsPromise.then(utils_1.unwrapResult)];\n                    case 2:\n                        znsLocations = _b.sent();\n                        for (_i = 0, emptyZilEntries_1 = emptyZilEntries; _i < emptyZilEntries_1.length; _i++) {\n                            _a = emptyZilEntries_1[_i], domain = _a[0], _location = _a[1];\n                            unsLocations[domain] = znsLocations[domain];\n                        }\n                        return [2 /*return*/, unsLocations];\n                }\n            });\n        });\n    };\n    /**\n     * Returns the token ID that is the primary resolution of the provided address\n     * @param address - owner's address\n     * @returns Promise<tokenId> - token ID that is the primary resolution of the provided address\n     */\n    Resolution.prototype.reverseTokenId = function (address, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId;\n            return __generator(this, function (_a) {\n                tokenId = this.reverseGetTokenId(address, options === null || options === void 0 ? void 0 : options.location);\n                return [2 /*return*/, tokenId];\n            });\n        });\n    };\n    /**\n     * Returns the domain that is the primary resolution of the provided address\n     * @param address - owner's address\n     * @returns Promise<URL> - domain URL that is the primary resolution of the provided addresss\n     */\n    Resolution.prototype.reverse = function (address, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.reverseGetTokenId(address, options === null || options === void 0 ? void 0 : options.location)];\n                    case 1:\n                        tokenId = _a.sent();\n                        if (tokenId) {\n                            return [2 /*return*/, this.unhash(tokenId, publicTypes_1.NamingServiceName.UNS)];\n                        }\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    Resolution.prototype.getMetadataFromTokenURI = function (tokenUri) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resp, _a, _b;\n            var _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, Networking_1.default.fetch(tokenUri, {})];\n                    case 1:\n                        resp = _d.sent();\n                        if (resp.ok) {\n                            return [2 /*return*/, resp.json()];\n                        }\n                        _a = resolutionError_1.default.bind;\n                        _b = [void 0, resolutionError_1.ResolutionErrorCode.ServiceProviderError];\n                        _c = {};\n                        return [4 /*yield*/, resp.text()];\n                    case 2: throw new (_a.apply(resolutionError_1.default, _b.concat([(_c.providerMessage = _d.sent(),\n                            _c.method = 'UDAPI',\n                            _c.methodName = 'tokenURIMetadata',\n                            _c)])))();\n                }\n            });\n        });\n    };\n    Resolution.prototype.getDnsRecordKeys = function (types) {\n        var records = ['dns.ttl'];\n        types.forEach(function (type) {\n            records.push(\"dns.\".concat(type));\n            records.push(\"dns.\".concat(type, \".ttl\"));\n        });\n        return records;\n    };\n    Resolution.prototype.getPreferableNewRecord = function (domain, newRecord, oldRecord) {\n        return __awaiter(this, void 0, void 0, function () {\n            var records;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.records(domain, [newRecord, oldRecord])];\n                    case 1:\n                        records = _a.sent();\n                        if (!records[newRecord] && !records[oldRecord]) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.RecordNotFound, {\n                                recordName: newRecord,\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, records[newRecord] || records[oldRecord]];\n                }\n            });\n        });\n    };\n    Resolution.prototype.callServiceForDomain = function (domain, func) {\n        return __awaiter(this, void 0, void 0, function () {\n            var serviceName, servicePromises, _i, servicePromises_1, servicePromise, serviceCallResult;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        serviceName = (0, utils_1.findNamingServiceName)(domain);\n                        if (!serviceName) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedDomain, {\n                                domain: domain,\n                            });\n                        }\n                        servicePromises = this.serviceMap[serviceName].usedServices.map(function (service) { return (0, utils_1.wrapResult)(function () { return func(service); }); });\n                        _i = 0, servicePromises_1 = servicePromises;\n                        _a.label = 1;\n                    case 1:\n                        if (!(_i < servicePromises_1.length)) return [3 /*break*/, 4];\n                        servicePromise = servicePromises_1[_i];\n                        return [4 /*yield*/, servicePromise];\n                    case 2:\n                        serviceCallResult = _a.sent();\n                        if (serviceCallResult.error !== null) {\n                            if (!(serviceCallResult.error instanceof resolutionError_1.default &&\n                                serviceCallResult.error.code ===\n                                    resolutionError_1.ResolutionErrorCode.UnregisteredDomain)) {\n                                throw serviceCallResult.error;\n                            }\n                        }\n                        else {\n                            return [2 /*return*/, serviceCallResult.result];\n                        }\n                        _a.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4: throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                        domain: domain,\n                    });\n                }\n            });\n        });\n    };\n    // Expects that a called method never throws the `ResolutionErrorCode.UnregisteredDomain` (it doesn't handle it).\n    Resolution.prototype.callServiceForDomainBoolean = function (domain, func, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var serviceName, servicePromises, _i, servicePromises_2, servicePromise, _a, result, error;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        serviceName = (0, utils_1.findNamingServiceName)(domain);\n                        if (!serviceName) {\n                            if (!options.throwIfUnsupportedDomain) {\n                                return [2 /*return*/, !options.expectedValue];\n                            }\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedDomain, {\n                                domain: domain,\n                            });\n                        }\n                        servicePromises = this.serviceMap[serviceName].usedServices.map(function (service) { return (0, utils_1.wrapResult)(function () { return func(service); }); });\n                        _i = 0, servicePromises_2 = servicePromises;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_i < servicePromises_2.length)) return [3 /*break*/, 4];\n                        servicePromise = servicePromises_2[_i];\n                        return [4 /*yield*/, servicePromise];\n                    case 2:\n                        _a = _b.sent(), result = _a.result, error = _a.error;\n                        if (error) {\n                            if (!(error instanceof resolutionError_1.default &&\n                                error.code === resolutionError_1.ResolutionErrorCode.UnregisteredDomain)) {\n                                throw error;\n                            }\n                        }\n                        else if (result === options.expectedValue) {\n                            // If the result is not the one which is expected, we don't want to return it immediately.\n                            return [2 /*return*/, result];\n                        }\n                        _b.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4: return [2 /*return*/, !options.expectedValue];\n                }\n            });\n        });\n    };\n    Resolution.prototype.reverseGetTokenId = function (address, location) {\n        return __awaiter(this, void 0, void 0, function () {\n            var service, tokenId;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        service = this.serviceMap['UNS'].native;\n                        return [4 /*yield*/, service.reverseOf(address, location)];\n                    case 1:\n                        tokenId = _a.sent();\n                        return [2 /*return*/, tokenId];\n                }\n            });\n        });\n    };\n    return Resolution;\n}());\nexports.Resolution = Resolution;\nexports.default = Resolution;\nfunction isApi(obj) {\n    return obj && obj.api;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar znsUtils_1 = require(\"./utils/znsUtils\");\nvar resolutionError_1 = require(\"./errors/resolutionError\");\nvar TwitterSignatureValidator_1 = require(\"./utils/TwitterSignatureValidator\");\nvar publicTypes_1 = require(\"./types/publicTypes\");\nvar Networking_1 = __importDefault(require(\"./utils/Networking\"));\nvar utils_1 = require(\"./utils\");\nvar namehash_1 = require(\"./utils/namehash\");\nvar NamingService_1 = require(\"./NamingService\");\n/**\n * @internal\n */\nvar UdApi = /** @class */ (function (_super) {\n    __extends(UdApi, _super);\n    function UdApi(api) {\n        var _this = _super.call(this) || this;\n        _this.name = 'UDAPI';\n        _this.url = (api === null || api === void 0 ? void 0 : api.url) || 'https://unstoppabledomains.com/api/v1';\n        var DefaultUserAgent = 'cross-fetch/3.1.4 (+https://github.com/lquixada/cross-fetch)';\n        var CustomUserAgent = \"\".concat(DefaultUserAgent, \" Resolution\");\n        _this.headers = { 'X-user-agent': CustomUserAgent };\n        _this.network = (api === null || api === void 0 ? void 0 : api.network) || 1;\n        return _this;\n    }\n    UdApi.prototype.isSupportedDomain = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'isSupportedDomain',\n                });\n            });\n        });\n    };\n    UdApi.prototype.namehash = function (domain) {\n        throw new Error('Unsupported method when using UD Resolution API');\n    };\n    UdApi.prototype.childhash = function (parentHash, label) {\n        throw new Error('Unsupported method when using UD Resolution API');\n    };\n    UdApi.prototype.record = function (domain, key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.records(domain, [key])];\n                    case 1: return [2 /*return*/, (_a.sent())[key]];\n                }\n            });\n        });\n    };\n    UdApi.prototype.records = function (domain, keys) {\n        return __awaiter(this, void 0, void 0, function () {\n            var records;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.allRecords(domain)];\n                    case 1:\n                        records = _a.sent();\n                        return [2 /*return*/, (0, utils_1.constructRecords)(keys, records)];\n                }\n            });\n        });\n    };\n    UdApi.prototype.owner = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, _a, owner, blockchain;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.resolve(domain)];\n                    case 1:\n                        response = _b.sent();\n                        _a = response.meta, owner = _a.owner, blockchain = _a.blockchain;\n                        if (!owner) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: domain,\n                            });\n                        }\n                        if (blockchain === publicTypes_1.BlockchainType.ZIL && !owner.startsWith('zil1')) {\n                            return [2 /*return*/, (0, znsUtils_1.toBech32Address)(owner)];\n                        }\n                        return [2 /*return*/, owner];\n                }\n            });\n        });\n    };\n    UdApi.prototype.twitter = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var serviceName, domainMetaData, owner, records, validationSignature, twitterHandle;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        serviceName = (0, utils_1.findNamingServiceName)(domain);\n                        if (serviceName !== publicTypes_1.NamingServiceName.UNS) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                                domain: domain,\n                                methodName: 'twitter',\n                            });\n                        }\n                        return [4 /*yield*/, this.resolve(domain)];\n                    case 1:\n                        domainMetaData = _a.sent();\n                        if (!domainMetaData.meta.owner) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: domain,\n                            });\n                        }\n                        owner = domainMetaData.meta.owner;\n                        records = domainMetaData.records || {};\n                        validationSignature = records['validation.social.twitter.username'];\n                        twitterHandle = records['social.twitter.username'];\n                        if (!validationSignature) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.RecordNotFound, {\n                                recordName: 'validation.social.twitter.username',\n                                domain: domain,\n                            });\n                        }\n                        if (!twitterHandle) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.RecordNotFound, {\n                                recordName: 'social.twitter.username',\n                                domain: domain,\n                            });\n                        }\n                        if (!(0, TwitterSignatureValidator_1.isValidTwitterSignature)({\n                            tokenId: domainMetaData.meta.namehash,\n                            owner: owner,\n                            twitterHandle: twitterHandle,\n                            validationSignature: validationSignature,\n                        })) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.InvalidTwitterVerification, {\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, twitterHandle];\n                }\n            });\n        });\n    };\n    UdApi.prototype.allRecords = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.resolve(domain)];\n                    case 1: return [2 /*return*/, (_a.sent()).records || {}];\n                }\n            });\n        });\n    };\n    UdApi.prototype.getDomainFromTokenId = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var metadata;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenId = (0, namehash_1.fromDecStringToHex)(tokenId);\n                        return [4 /*yield*/, this.getMetadata(tokenId)];\n                    case 1:\n                        metadata = _a.sent();\n                        return [2 /*return*/, metadata.meta.domain];\n                }\n            });\n        });\n    };\n    UdApi.prototype.getMetadata = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenUri, resp, metadata, namehash;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenUri = \"\".concat(this.url, \"/\").concat(tokenId);\n                        return [4 /*yield*/, Networking_1.default.fetch(tokenUri, {}).catch(function (err) {\n                                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.MetadataEndpointError, {\n                                    tokenUri: tokenUri || 'undefined',\n                                    errorMessage: err.message,\n                                });\n                            })];\n                    case 1:\n                        resp = _a.sent();\n                        return [4 /*yield*/, resp.json()];\n                    case 2:\n                        metadata = _a.sent();\n                        if (!metadata.meta || !metadata.meta.domain) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: \"with tokenId \".concat(tokenId),\n                            });\n                        }\n                        namehash = metadata.meta.blockchain === publicTypes_1.BlockchainType.ZIL\n                            ? (0, namehash_1.znsNamehash)(metadata.meta.domain)\n                            : (0, namehash_1.eip137Namehash)(metadata.meta.domain);\n                        if (namehash !== tokenId) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                                methodName: 'unhash',\n                                domain: metadata.meta.domain,\n                                providerMessage: 'Service provider returned an invalid domain name',\n                            });\n                        }\n                        return [2 /*return*/, metadata];\n                }\n            });\n        });\n    };\n    UdApi.prototype.resolve = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Networking_1.default.fetch(\"\".concat(this.url, \"/\").concat(domain), {\n                            method: 'GET',\n                            headers: this.headers,\n                        })];\n                    case 1:\n                        response = _a.sent();\n                        return [2 /*return*/, response.json()];\n                }\n            });\n        });\n    };\n    UdApi.prototype.resolver = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var record;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.resolve(domain)];\n                    case 1:\n                        record = _a.sent();\n                        return [2 /*return*/, record.meta.resolver];\n                }\n            });\n        });\n    };\n    UdApi.prototype.reverse = function (address, currencyTicker) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'reverse',\n                });\n            });\n        });\n    };\n    UdApi.prototype.reverseOf = function (address, location) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'reverseOf',\n                });\n            });\n        });\n    };\n    UdApi.prototype.isRegistered = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var record;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.resolve(domain)];\n                    case 1:\n                        record = _a.sent();\n                        return [2 /*return*/, !(0, utils_1.isNullAddress)(record.meta.owner)];\n                }\n            });\n        });\n    };\n    UdApi.prototype.getTokenUri = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'getTokenUri',\n                });\n            });\n        });\n    };\n    UdApi.prototype.isAvailable = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.isRegistered(domain)];\n                    case 1: return [2 /*return*/, !(_a.sent())];\n                }\n            });\n        });\n    };\n    UdApi.prototype.registryAddress = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    domain: domain,\n                    methodName: 'registryAddress',\n                });\n            });\n        });\n    };\n    UdApi.prototype.locations = function (domains) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'locations',\n                });\n            });\n        });\n    };\n    return UdApi;\n}(NamingService_1.NamingService));\nexports.default = UdApi;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar resolutionError_1 = __importStar(require(\"./errors/resolutionError\"));\nvar utils_1 = require(\"./utils\");\nvar publicTypes_1 = require(\"./types/publicTypes\");\nvar TwitterSignatureValidator_1 = require(\"./utils/TwitterSignatureValidator\");\nvar FetchProvider_1 = __importDefault(require(\"./FetchProvider\"));\nvar namehash_1 = require(\"./utils/namehash\");\nvar NamingService_1 = require(\"./NamingService\");\nvar configurationError_1 = __importStar(require(\"./errors/configurationError\"));\nvar UnsInternal_1 = __importDefault(require(\"./UnsInternal\"));\nvar Networking_1 = __importDefault(require(\"./utils/Networking\"));\nvar resolver_keys_json_1 = __importDefault(require(\"./config/resolver-keys.json\"));\n/**\n * @internal\n */\nvar Uns = /** @class */ (function (_super) {\n    __extends(Uns, _super);\n    function Uns(source) {\n        var _this = _super.call(this) || this;\n        _this.name = publicTypes_1.NamingServiceName.UNS;\n        if (source &&\n            source.locations &&\n            (!source.locations.Layer1 || !source.locations.Layer2)) {\n            throw new configurationError_1.default(configurationError_1.ConfigurationErrorCode.NetworkConfigMissing, {\n                method: publicTypes_1.NamingServiceName.UNS,\n                config: !source.locations.Layer1 ? 'Layer1' : 'Layer2',\n            });\n        }\n        if (!source) {\n            source = {\n                locations: {\n                    Layer1: {\n                        url: UnsInternal_1.default.UrlMap['mainnet'],\n                        network: 'mainnet',\n                    },\n                    Layer2: {\n                        url: UnsInternal_1.default.UrlMap['polygon-mainnet'],\n                        network: 'polygon-mainnet',\n                    },\n                },\n            };\n        }\n        _this.unsl1 = new UnsInternal_1.default(publicTypes_1.UnsLocation.Layer1, source.locations.Layer1, publicTypes_1.BlockchainType.ETH);\n        _this.unsl2 = new UnsInternal_1.default(publicTypes_1.UnsLocation.Layer2, source.locations.Layer2, publicTypes_1.BlockchainType.MATIC);\n        return _this;\n    }\n    Uns.autoNetwork = function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var providerLayer1, providerLayer2, networkIdLayer1, networkIdLayer2, networkNameLayer1, networkNameLayer2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if ((0, types_1.hasProvider)(config.locations.Layer1) &&\n                            (0, types_1.hasProvider)(config.locations.Layer2)) {\n                            providerLayer1 = config.locations.Layer1.provider;\n                            providerLayer2 = config.locations.Layer2.provider;\n                        }\n                        else {\n                            if (!config.locations.Layer1['url'] || !config.locations.Layer2['url']) {\n                                throw new configurationError_1.default(configurationError_1.ConfigurationErrorCode.UnspecifiedUrl, {\n                                    method: publicTypes_1.NamingServiceName.UNS,\n                                });\n                            }\n                            providerLayer1 = FetchProvider_1.default.factory(publicTypes_1.NamingServiceName.UNS, config.locations.Layer1['url']);\n                            providerLayer2 = FetchProvider_1.default.factory(publicTypes_1.NamingServiceName.UNS, config.locations.Layer2['url']);\n                        }\n                        return [4 /*yield*/, providerLayer1.request({\n                                method: 'net_version',\n                            })];\n                    case 1:\n                        networkIdLayer1 = (_a.sent());\n                        return [4 /*yield*/, providerLayer2.request({\n                                method: 'net_version',\n                            })];\n                    case 2:\n                        networkIdLayer2 = (_a.sent());\n                        networkNameLayer1 = utils_1.EthereumNetworksInverted[networkIdLayer1];\n                        networkNameLayer2 = utils_1.EthereumNetworksInverted[networkIdLayer2];\n                        if (!networkNameLayer1 ||\n                            !types_1.UnsSupportedNetwork.guard(networkNameLayer1) ||\n                            !networkNameLayer2 ||\n                            !types_1.UnsSupportedNetwork.guard(networkNameLayer2)) {\n                            throw new configurationError_1.default(configurationError_1.ConfigurationErrorCode.UnsupportedNetwork, {\n                                method: publicTypes_1.NamingServiceName.UNS,\n                            });\n                        }\n                        return [2 /*return*/, new this({\n                                locations: {\n                                    Layer1: { network: networkNameLayer1, provider: providerLayer1 },\n                                    Layer2: { network: networkNameLayer2, provider: providerLayer2 },\n                                },\n                            })];\n                }\n            });\n        });\n    };\n    Uns.prototype.namehash = function (domain) {\n        if (!this.checkDomain(domain)) {\n            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedDomain, {\n                domain: domain,\n            });\n        }\n        return (0, namehash_1.eip137Namehash)(domain);\n    };\n    Uns.prototype.childhash = function (parentHash, label) {\n        return (0, namehash_1.eip137Childhash)(parentHash, label);\n    };\n    Uns.prototype.isSupportedDomain = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tld, _a, existsL1, existsL2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!this.checkDomain(domain)) {\n                            return [2 /*return*/, false];\n                        }\n                        tld = domain.split('.').pop();\n                        if (!tld) {\n                            return [2 /*return*/, false];\n                        }\n                        return [4 /*yield*/, Promise.all([\n                                this.unsl1.exists(tld),\n                                this.unsl2.exists(tld),\n                            ])];\n                    case 1:\n                        _a = _b.sent(), existsL1 = _a[0], existsL2 = _a[1];\n                        return [2 /*return*/, existsL1 || existsL2];\n                }\n            });\n        });\n    };\n    Uns.prototype.owner = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenId = this.namehash(domain);\n                        return [4 /*yield*/, this.get(tokenId, [])];\n                    case 1:\n                        data = _a.sent();\n                        if ((0, utils_1.isNullAddress)(data.owner)) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, data.owner];\n                }\n            });\n        });\n    };\n    Uns.prototype.resolver = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getVerifiedData(domain)];\n                    case 1: return [2 /*return*/, (_a.sent()).resolver];\n                }\n            });\n        });\n    };\n    Uns.prototype.record = function (domain, key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var returnee;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.records(domain, [key])];\n                    case 1:\n                        returnee = (_a.sent())[key];\n                        if (!returnee) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.RecordNotFound, {\n                                recordName: key,\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, returnee];\n                }\n            });\n        });\n    };\n    Uns.prototype.records = function (domain, keys) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getVerifiedData(domain, keys)];\n                    case 1: return [2 /*return*/, (_a.sent()).records];\n                }\n            });\n        });\n    };\n    Uns.prototype.allRecords = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId, metadata;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenId = this.namehash(domain);\n                        return [4 /*yield*/, this.getMetadata(tokenId)];\n                    case 1:\n                        metadata = _a.sent();\n                        return [2 /*return*/, this.records(domain, __spreadArray(__spreadArray([], Object.keys(resolver_keys_json_1.default.keys), true), Object.keys(metadata.properties.records), true))];\n                }\n            });\n        });\n    };\n    Uns.prototype.twitter = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId, keys, data, records, location, validationSignature, twitterHandle, owner;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenId = this.namehash(domain);\n                        keys = [\n                            'validation.social.twitter.username',\n                            'social.twitter.username',\n                        ];\n                        return [4 /*yield*/, this.getVerifiedData(domain, keys)];\n                    case 1:\n                        data = _a.sent();\n                        records = data.records, location = data.location;\n                        validationSignature = records['validation.social.twitter.username'];\n                        twitterHandle = records['social.twitter.username'];\n                        if ((0, utils_1.isNullAddress)(validationSignature)) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.RecordNotFound, {\n                                domain: domain,\n                                location: location,\n                                recordName: 'validation.social.twitter.username',\n                            });\n                        }\n                        if (!twitterHandle) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.RecordNotFound, {\n                                domain: domain,\n                                location: location,\n                                recordName: 'social.twitter.username',\n                            });\n                        }\n                        owner = data.owner;\n                        if (!(0, TwitterSignatureValidator_1.isValidTwitterSignature)({\n                            tokenId: tokenId,\n                            owner: owner,\n                            twitterHandle: twitterHandle,\n                            validationSignature: validationSignature,\n                        })) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.InvalidTwitterVerification, {\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, twitterHandle];\n                }\n            });\n        });\n    };\n    Uns.prototype.reverse = function (address, currencyTicker) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'reverse',\n                });\n            });\n        });\n    };\n    Uns.prototype.isRegistered = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenId = this.namehash(domain);\n                        return [4 /*yield*/, this.get(tokenId, [])];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, !(0, utils_1.isNullAddress)(data.owner)];\n                }\n            });\n        });\n    };\n    Uns.prototype.getTokenUri = function (tokenId) {\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, _c, result, tokenUri, e_1_1;\n            var _this = this;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _d.trys.push([0, 5, 6, 11]);\n                        _b = __asyncValues([\n                            (0, utils_1.wrapResult)(function () { return _this.unsl2.getTokenUri(tokenId); }),\n                            (0, utils_1.wrapResult)(function () { return _this.unsl1.getTokenUri(tokenId); }),\n                        ]);\n                        _d.label = 1;\n                    case 1: return [4 /*yield*/, _b.next()];\n                    case 2:\n                        if (!(_c = _d.sent(), !_c.done)) return [3 /*break*/, 4];\n                        result = _c.value;\n                        tokenUri = (0, utils_1.unwrapResult)(result);\n                        if (tokenUri) {\n                            return [2 /*return*/, tokenUri];\n                        }\n                        _d.label = 3;\n                    case 3: return [3 /*break*/, 1];\n                    case 4: return [3 /*break*/, 11];\n                    case 5:\n                        e_1_1 = _d.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 11];\n                    case 6:\n                        _d.trys.push([6, , 9, 10]);\n                        if (!(_c && !_c.done && (_a = _b.return))) return [3 /*break*/, 8];\n                        return [4 /*yield*/, _a.call(_b)];\n                    case 7:\n                        _d.sent();\n                        _d.label = 8;\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 10: return [7 /*endfinally*/];\n                    case 11: \n                    // Note: if a token doesn't exist, ProxyReader returns an empty string. If both responses are empty,\n                    // we know for sure that the domain isn't registered.\n                    throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                        domain: \"with tokenId \".concat(tokenId),\n                    });\n                }\n            });\n        });\n    };\n    Uns.prototype.isAvailable = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.isRegistered(domain)];\n                    case 1: return [2 /*return*/, !(_a.sent())];\n                }\n            });\n        });\n    };\n    Uns.prototype.registryAddress = function (domainOrNamehash) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, resultOrErrorL1, resultOrErrorL2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.unsl1.registryAddress(domainOrNamehash).catch(function (err) { return err; }),\n                            this.unsl2.registryAddress(domainOrNamehash).catch(function (err) { return err; }),\n                        ])];\n                    case 1:\n                        _a = _b.sent(), resultOrErrorL1 = _a[0], resultOrErrorL2 = _a[1];\n                        if (resultOrErrorL2 instanceof Error) {\n                            validResolutionErrorOrThrow(resultOrErrorL2, resolutionError_1.ResolutionErrorCode.UnregisteredDomain);\n                        }\n                        else if (!(0, utils_1.isNullAddress)(resultOrErrorL2)) {\n                            return [2 /*return*/, resultOrErrorL2];\n                        }\n                        return [2 /*return*/, validResultOrThrow(resultOrErrorL1)];\n                }\n            });\n        });\n    };\n    Uns.prototype.locations = function (domains) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, resultL1, resultL2, nonEmptyRecordsFromL2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.unsl1.locations(domains),\n                            this.unsl2.locations(domains),\n                        ])];\n                    case 1:\n                        _a = _b.sent(), resultL1 = _a[0], resultL2 = _a[1];\n                        nonEmptyRecordsFromL2 = Object.keys(resultL2)\n                            .filter(function (k) { return resultL2[k] != null; })\n                            .reduce(function (a, k) {\n                            var _a;\n                            return (__assign(__assign({}, a), (_a = {}, _a[k] = resultL2[k], _a)));\n                        }, {});\n                        return [2 /*return*/, __assign(__assign({}, resultL1), nonEmptyRecordsFromL2)];\n                }\n            });\n        });\n    };\n    Uns.prototype.reverseOf = function (addr, location) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, resultOrErrorL1, resultOrErrorL2, reverseL1, reverseL2, reversedL1, reversedL2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.unsl1.reverseOf(addr).catch(function (err) { return err; }),\n                            this.unsl2.reverseOf(addr).catch(function (err) { return err; }),\n                        ])];\n                    case 1:\n                        _a = _b.sent(), resultOrErrorL1 = _a[0], resultOrErrorL2 = _a[1];\n                        reverseL1 = function () {\n                            validResultOrThrow(resultOrErrorL1);\n                            if (resultOrErrorL1._hex !== '0x00') {\n                                return (0, namehash_1.fromHexStringToDecimals)(resultOrErrorL1._hex);\n                            }\n                            else {\n                                return null;\n                            }\n                        };\n                        reverseL2 = function () {\n                            validResultOrThrow(resultOrErrorL2);\n                            if (resultOrErrorL2._hex !== '0x00') {\n                                return (0, namehash_1.fromHexStringToDecimals)(resultOrErrorL2._hex);\n                            }\n                            else {\n                                return null;\n                            }\n                        };\n                        if (location === publicTypes_1.UnsLocation.Layer1) {\n                            return [2 /*return*/, reverseL1()];\n                        }\n                        if (location === publicTypes_1.UnsLocation.Layer2) {\n                            return [2 /*return*/, reverseL2()];\n                        }\n                        reversedL1 = reverseL1();\n                        if (reversedL1) {\n                            return [2 /*return*/, reversedL1];\n                        }\n                        reversedL2 = reverseL2();\n                        if (reversedL2) {\n                            return [2 /*return*/, reversedL2];\n                        }\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    Uns.prototype.getDomainFromTokenId = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var metadata;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getMetadata(tokenId)];\n                    case 1:\n                        metadata = _a.sent();\n                        if (this.namehash(metadata.name) !== tokenId) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                                methodName: 'unhash',\n                                domain: metadata.name,\n                                providerMessage: 'Service provider returned an invalid domain name',\n                            });\n                        }\n                        return [2 /*return*/, metadata.name];\n                }\n            });\n        });\n    };\n    Uns.prototype.getMetadata = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenUri, resp, metadata;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getTokenUri(tokenId)];\n                    case 1:\n                        tokenUri = _a.sent();\n                        return [4 /*yield*/, Networking_1.default.fetch(tokenUri, {}).catch(function (err) {\n                                throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.MetadataEndpointError, {\n                                    tokenUri: tokenUri || 'undefined',\n                                    errorMessage: err.message,\n                                });\n                            })];\n                    case 2:\n                        resp = _a.sent();\n                        if (!resp.ok) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.MetadataEndpointError, {\n                                tokenUri: tokenUri || 'undefined',\n                            });\n                        }\n                        return [4 /*yield*/, resp.json()];\n                    case 3:\n                        metadata = _a.sent();\n                        if (!metadata.name) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: \"with tokenId \".concat(tokenId),\n                            });\n                        }\n                        if (this.namehash(metadata.name) !== tokenId) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                                methodName: 'unhash',\n                                domain: metadata.name,\n                                providerMessage: 'Service provider returned an invalid domain name',\n                            });\n                        }\n                        return [2 /*return*/, metadata];\n                }\n            });\n        });\n    };\n    Uns.prototype.getVerifiedData = function (domain, keys) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenId = this.namehash(domain);\n                        return [4 /*yield*/, this.get(tokenId, keys)];\n                    case 1:\n                        data = _a.sent();\n                        if ((0, utils_1.isNullAddress)(data.resolver)) {\n                            if ((0, utils_1.isNullAddress)(data.owner)) {\n                                throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                    domain: domain,\n                                });\n                            }\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnspecifiedResolver, {\n                                location: data.location,\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    Uns.prototype.get = function (tokenId, keys) {\n        if (keys === void 0) { keys = []; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, resultOrErrorL1, resultOrErrorL2, resolverL2, ownerL2, recordsL2, resolverL1, ownerL1, recordsL1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, Promise.all([\n                            this.unsl1.get(tokenId, keys).catch(function (err) { return err; }),\n                            this.unsl2.get(tokenId, keys).catch(function (err) { return err; }),\n                        ])];\n                    case 1:\n                        _a = _b.sent(), resultOrErrorL1 = _a[0], resultOrErrorL2 = _a[1];\n                        validResultOrThrow(resultOrErrorL2);\n                        resolverL2 = resultOrErrorL2.resolver, ownerL2 = resultOrErrorL2.owner, recordsL2 = resultOrErrorL2.records;\n                        if (!(0, utils_1.isNullAddress)(ownerL2)) {\n                            return [2 /*return*/, {\n                                    resolver: resolverL2,\n                                    owner: ownerL2,\n                                    records: (0, utils_1.constructRecords)(keys, recordsL2),\n                                    location: publicTypes_1.UnsLocation.Layer2,\n                                }];\n                        }\n                        validResultOrThrow(resultOrErrorL1);\n                        resolverL1 = resultOrErrorL1.resolver, ownerL1 = resultOrErrorL1.owner, recordsL1 = resultOrErrorL1.records;\n                        return [2 /*return*/, {\n                                resolver: resolverL1,\n                                owner: ownerL1,\n                                records: (0, utils_1.constructRecords)(keys, recordsL1),\n                                location: publicTypes_1.UnsLocation.Layer1,\n                            }];\n                }\n            });\n        });\n    };\n    Uns.prototype.checkDomain = function (domain, passIfTokenID) {\n        if (passIfTokenID === void 0) { passIfTokenID = false; }\n        if (passIfTokenID) {\n            return true;\n        }\n        var tokens = domain.split('.');\n        return (!!tokens.length &&\n            !(domain === 'eth' ||\n                /^[^-]*[^-]*\\.(eth|luxe|xyz|kred|addr\\.reverse)$/.test(domain)) &&\n            tokens.every(function (v) { return !!v.length; }));\n    };\n    return Uns;\n}(NamingService_1.NamingService));\nexports.default = Uns;\nfunction validResultOrThrow(resultOrError) {\n    if (resultOrError instanceof Error) {\n        throw resultOrError;\n    }\n    return resultOrError;\n}\nfunction validResolutionErrorOrThrow(error, validCode) {\n    if (!(error instanceof resolutionError_1.default)) {\n        throw error;\n    }\n    if (error.code === validCode) {\n        return true;\n    }\n    throw error;\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar configurationError_1 = __importDefault(require(\"./errors/configurationError\"));\nvar configurationError_2 = require(\"./errors/configurationError\");\nvar utils_1 = require(\"./utils\");\nvar FetchProvider_1 = __importDefault(require(\"./FetchProvider\"));\nvar EthereumContract_1 = __importDefault(require(\"./contracts/EthereumContract\"));\nvar proxyReader_1 = __importDefault(require(\"./contracts/uns/proxyReader\"));\nvar uns_config_json_1 = __importDefault(require(\"./config/uns-config.json\"));\nvar resolutionError_1 = __importStar(require(\"./errors/resolutionError\"));\nvar namehash_1 = require(\"./utils/namehash\");\nvar UnsInternal = /** @class */ (function () {\n    function UnsInternal(unsLocation, source, blockchain) {\n        this.unsLocation = unsLocation;\n        this.checkNetworkConfig(unsLocation, source);\n        this.network = source.network;\n        this.blockchain = blockchain;\n        this.url = source['url'] || UnsInternal.UrlMap[this.network];\n        this.provider =\n            source['provider'] || new FetchProvider_1.default(this.unsLocation, this.url);\n        this.readerContract = new EthereumContract_1.default(proxyReader_1.default, source.proxyReaderAddress ||\n            UnsInternal.ProxyReaderMap[utils_1.EthereumNetworks[this.network]], this.provider);\n    }\n    UnsInternal.prototype.exists = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var exists;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.readerContract.call('exists', [\n                            this.namehash(domain),\n                        ])];\n                    case 1:\n                        exists = (_a.sent())[0];\n                        return [2 /*return*/, exists];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.reverseOf = function (addr) {\n        return __awaiter(this, void 0, void 0, function () {\n            var reverseHash;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.readerContract.call('reverseOf', [addr])];\n                    case 1:\n                        reverseHash = (_a.sent())[0];\n                        return [2 /*return*/, reverseHash];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.getTokenUri = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenURI;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.readerContract.call('tokenURI', [tokenId])];\n                    case 1:\n                        tokenURI = (_a.sent())[0];\n                        return [2 /*return*/, tokenURI];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.registryAddress = function (domainOrNamehash) {\n        return __awaiter(this, void 0, void 0, function () {\n            var isNamehash, namehash, address;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        isNamehash = !domainOrNamehash.includes('.');\n                        if (!this.checkDomain(domainOrNamehash, isNamehash)) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedDomain, {\n                                domain: domainOrNamehash,\n                            });\n                        }\n                        namehash = isNamehash\n                            ? domainOrNamehash\n                            : this.namehash(domainOrNamehash);\n                        return [4 /*yield*/, this.readerContract.call('registryOf', [namehash])];\n                    case 1:\n                        address = (_a.sent())[0];\n                        if ((0, utils_1.isNullAddress)(address)) {\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: domainOrNamehash,\n                            });\n                        }\n                        return [2 /*return*/, address];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.resolver = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getVerifiedData(domain)];\n                    case 1: return [2 /*return*/, (_a.sent()).resolver];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.get = function (tokenId, keys) {\n        if (keys === void 0) { keys = []; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, resolver, owner, values;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.readerContract.call('getData', [keys, tokenId])];\n                    case 1:\n                        _a = _b.sent(), resolver = _a[0], owner = _a[1], values = _a[2];\n                        return [2 /*return*/, {\n                                owner: owner,\n                                resolver: resolver,\n                                records: (0, utils_1.constructRecords)(keys, values),\n                                location: this.unsLocation,\n                            }];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.locations = function (domains) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenIds, _a, _b, resolvers, owners, registries, locations;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        tokenIds = domains.map(function (d) { return _this.namehash(d); });\n                        return [4 /*yield*/, this.readerContract.multicall(__spreadArray([\n                                {\n                                    method: 'getDataForMany',\n                                    args: [[], tokenIds],\n                                }\n                            ], tokenIds.map(function (id) { return ({\n                                method: 'registryOf',\n                                args: [id],\n                            }); }), true))];\n                    case 1:\n                        _a = _c.sent(), _b = _a[0], resolvers = _b[0], owners = _b[1], registries = _a.slice(1);\n                        locations = domains.reduce(function (locations, domain, i) {\n                            locations[domain] = null;\n                            if (owners && owners[i] !== types_1.NullAddress) {\n                                locations[domain] = {\n                                    resolverAddress: resolvers[i],\n                                    registryAddress: registries[i][0],\n                                    ownerAddress: owners[i],\n                                    networkId: utils_1.EthereumNetworks[_this.network],\n                                    blockchain: _this.blockchain,\n                                    blockchainProviderUrl: _this.url,\n                                };\n                            }\n                            return locations;\n                        }, {});\n                        return [2 /*return*/, locations];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.namehash = function (domain) {\n        if (!this.checkDomain(domain)) {\n            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnsupportedDomain, {\n                domain: domain,\n            });\n        }\n        return (0, namehash_1.eip137Namehash)(domain);\n    };\n    UnsInternal.prototype.checkDomain = function (domain, passIfTokenID) {\n        if (passIfTokenID === void 0) { passIfTokenID = false; }\n        if (passIfTokenID) {\n            return true;\n        }\n        var tokens = domain.split('.');\n        return (!!tokens.length &&\n            !(domain === 'eth' ||\n                /^[^-]*[^-]*\\.(eth|luxe|xyz|kred|addr\\.reverse)$/.test(domain)) &&\n            tokens.every(function (v) { return !!v.length; }));\n    };\n    UnsInternal.prototype.getVerifiedData = function (domain, keys) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenId, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenId = this.namehash(domain);\n                        return [4 /*yield*/, this.get(tokenId, keys)];\n                    case 1:\n                        data = _a.sent();\n                        if ((0, utils_1.isNullAddress)(data.resolver)) {\n                            if ((0, utils_1.isNullAddress)(data.owner)) {\n                                throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                    domain: domain,\n                                });\n                            }\n                            throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.UnspecifiedResolver, {\n                                location: this.unsLocation,\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    UnsInternal.prototype.checkNetworkConfig = function (location, source) {\n        if (!source.network) {\n            throw new configurationError_1.default(configurationError_2.ConfigurationErrorCode.UnsupportedNetwork, {\n                method: location,\n            });\n        }\n        if (source.proxyReaderAddress &&\n            !this.isValidProxyReader(source.proxyReaderAddress)) {\n            throw new configurationError_1.default(configurationError_2.ConfigurationErrorCode.InvalidConfigurationField, {\n                method: this.unsLocation,\n                field: 'proxyReaderAddress',\n            });\n        }\n        if (!types_1.UnsSupportedNetwork.guard(source.network)) {\n            this.checkCustomNetworkConfig(source);\n        }\n    };\n    UnsInternal.prototype.checkCustomNetworkConfig = function (source) {\n        if (!this.isValidProxyReader(source.proxyReaderAddress)) {\n            throw new configurationError_1.default(configurationError_2.ConfigurationErrorCode.InvalidConfigurationField, {\n                method: this.unsLocation,\n                field: 'proxyReaderAddress',\n            });\n        }\n        if (!source['url'] && !source['provider']) {\n            throw new configurationError_1.default(configurationError_2.ConfigurationErrorCode.CustomNetworkConfigMissing, {\n                method: this.unsLocation,\n                config: 'url or provider',\n            });\n        }\n    };\n    UnsInternal.prototype.isValidProxyReader = function (address) {\n        if (!address) {\n            throw new configurationError_1.default(configurationError_2.ConfigurationErrorCode.CustomNetworkConfigMissing, {\n                method: this.unsLocation,\n                config: 'proxyReaderAddress',\n            });\n        }\n        var ethLikePattern = new RegExp('^0x[a-fA-F0-9]{40}$');\n        return ethLikePattern.test(address);\n    };\n    UnsInternal.ProxyReaderMap = getProxyReaderMap();\n    UnsInternal.UrlMap = {\n        mainnet: 'https://eth-mainnet.alchemyapi.io/v2/GmQ8X1FHf-WDEry0BBSn0RgjVhjHkRmS',\n        rinkeby: 'https://eth-rinkeby.alchemyapi.io/v2/ZDERxOLIj120dh2-Io2Q9RTh9RfWEssT',\n        goerli: 'https://eth-goerli.alchemyapi.io/v2/J-ff_OlmWzw41ocqwpkRccHdfqSZML4q',\n        'polygon-mainnet': 'https://polygon-mainnet.g.alchemy.com/v2/iG-oHZ2FvjqC9D43O5q9sj62out5ubsy',\n        'polygon-mumbai': 'https://polygon-mumbai.g.alchemy.com/v2/YtQwLH1UOmRGgQp_Rg1TXvFWSWeV5Y02',\n    };\n    return UnsInternal;\n}());\nexports.default = UnsInternal;\nfunction getProxyReaderMap() {\n    var map = {};\n    for (var _i = 0, _a = Object.keys(uns_config_json_1.default.networks); _i < _a.length; _i++) {\n        var id = _a[_i];\n        map[id] =\n            uns_config_json_1.default.networks[id].contracts.ProxyReader.address.toLowerCase();\n    }\n    return map;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar znsUtils_1 = require(\"./utils/znsUtils\");\nvar utils_1 = require(\"./utils\");\nvar types_1 = require(\"./types\");\nvar resolutionError_1 = require(\"./errors/resolutionError\");\nvar publicTypes_1 = require(\"./types/publicTypes\");\nvar FetchProvider_1 = __importDefault(require(\"./FetchProvider\"));\nvar namehash_1 = require(\"./utils/namehash\");\nvar NamingService_1 = require(\"./NamingService\");\nvar configurationError_1 = __importStar(require(\"./errors/configurationError\"));\n/**\n * @internal\n */\nvar Zns = /** @class */ (function (_super) {\n    __extends(Zns, _super);\n    function Zns(source) {\n        if (source === void 0) { source = {\n            url: Zns.UrlMap[1],\n            network: 'mainnet',\n        }; }\n        var _this = _super.call(this) || this;\n        _this.name = publicTypes_1.NamingServiceName.ZNS;\n        _this.checkNetworkConfig(source);\n        _this.network = Zns.NetworkNameMap[source.network];\n        _this.url = source['url'] || Zns.UrlMap[_this.network];\n        _this.provider =\n            source['provider'] || new FetchProvider_1.default(_this.name, _this.url);\n        _this.registryAddr =\n            source['registryAddress'] || Zns.RegistryMap[_this.network];\n        _this.checkRegistryAddress(_this.registryAddr);\n        if (_this.registryAddr.startsWith('0x')) {\n            _this.registryAddr = (0, znsUtils_1.toBech32Address)(_this.registryAddr);\n        }\n        return _this;\n    }\n    Zns.prototype.owner = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var recordAddresses, ownerAddress;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getRecordsAddresses(domain)];\n                    case 1:\n                        recordAddresses = _a.sent();\n                        if (!recordAddresses) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: domain,\n                            });\n                        }\n                        ownerAddress = recordAddresses[0];\n                        if (!ownerAddress) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, ownerAddress];\n                }\n            });\n        });\n    };\n    Zns.prototype.resolver = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var recordsAddresses, resolverAddress;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getRecordsAddresses(domain)];\n                    case 1:\n                        recordsAddresses = _a.sent();\n                        if (!recordsAddresses || !recordsAddresses[0]) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnregisteredDomain, {\n                                domain: domain,\n                            });\n                        }\n                        resolverAddress = recordsAddresses[1];\n                        if ((0, utils_1.isNullAddress)(resolverAddress)) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnspecifiedResolver, {\n                                domain: domain,\n                            });\n                        }\n                        return [2 /*return*/, resolverAddress];\n                }\n            });\n        });\n    };\n    Zns.prototype.namehash = function (domain) {\n        if (!this.checkDomain(domain)) {\n            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedDomain, {\n                domain: domain,\n            });\n        }\n        return (0, namehash_1.znsNamehash)(domain);\n    };\n    Zns.prototype.childhash = function (parentHash, label) {\n        return (0, namehash_1.znsChildhash)(parentHash, label);\n    };\n    Zns.prototype.isSupportedDomain = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.checkDomain(domain)];\n            });\n        });\n    };\n    Zns.prototype.record = function (domain, key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var records, record;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.records(domain, [key])];\n                    case 1:\n                        records = _a.sent();\n                        record = records[key];\n                        if (!record) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.RecordNotFound, {\n                                domain: domain,\n                                recordName: key,\n                            });\n                        }\n                        return [2 /*return*/, record];\n                }\n            });\n        });\n    };\n    Zns.prototype.records = function (domain, keys) {\n        return __awaiter(this, void 0, void 0, function () {\n            var records;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.allRecords(domain)];\n                    case 1:\n                        records = _a.sent();\n                        return [2 /*return*/, (0, utils_1.constructRecords)(keys, records)];\n                }\n            });\n        });\n    };\n    Zns.prototype.allRecords = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolverAddress;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.resolver(domain)];\n                    case 1:\n                        resolverAddress = _a.sent();\n                        return [2 /*return*/, this.getResolverRecords(resolverAddress)];\n                }\n            });\n        });\n    };\n    Zns.prototype.twitter = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    domain: domain,\n                    methodName: 'twitter',\n                });\n            });\n        });\n    };\n    Zns.prototype.reverse = function (address, currencyTicker) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'reverse',\n                });\n            });\n        });\n    };\n    Zns.prototype.reverseOf = function (address, location) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'reverseOf',\n                });\n            });\n        });\n    };\n    Zns.prototype.isRegistered = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var recordAddresses;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getRecordsAddresses(domain)];\n                    case 1:\n                        recordAddresses = _a.sent();\n                        return [2 /*return*/, Boolean(recordAddresses && recordAddresses[0])];\n                }\n            });\n        });\n    };\n    Zns.prototype.getTokenUri = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'getTokenUri',\n                });\n            });\n        });\n    };\n    Zns.prototype.getDomainFromTokenId = function (tokenId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedMethod, {\n                    methodName: 'getDomainFromTokenId',\n                });\n            });\n        });\n    };\n    Zns.prototype.isAvailable = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.isRegistered(domain)];\n                    case 1: return [2 /*return*/, !(_a.sent())];\n                }\n            });\n        });\n    };\n    Zns.prototype.registryAddress = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.registryAddr];\n            });\n        });\n    };\n    Zns.prototype.locations = function (domains) {\n        return __awaiter(this, void 0, void 0, function () {\n            var recordsAddresses;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Promise.all(domains.map(function (domain) { return _this.getRecordsAddresses(domain); }))];\n                    case 1:\n                        recordsAddresses = _a.sent();\n                        return [2 /*return*/, domains.reduce(function (locations, domain, i) {\n                                var _a;\n                                var location = null;\n                                var domainRecordsAddresses = recordsAddresses[i];\n                                if (domainRecordsAddresses) {\n                                    var ownerAddress = domainRecordsAddresses[0], resolverAddress = domainRecordsAddresses[1];\n                                    location = {\n                                        registryAddress: _this.registryAddr,\n                                        resolverAddress: resolverAddress,\n                                        networkId: _this.network,\n                                        blockchain: publicTypes_1.BlockchainType.ZIL,\n                                        ownerAddress: ownerAddress,\n                                        blockchainProviderUrl: _this.url,\n                                    };\n                                }\n                                return __assign(__assign({}, locations), (_a = {}, _a[domain] = location, _a));\n                            }, {})];\n                }\n            });\n        });\n    };\n    Zns.prototype.getRecordsAddresses = function (domain) {\n        return __awaiter(this, void 0, void 0, function () {\n            var registryRecord, _a, ownerAddress, resolverAddress;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!this.isSupportedDomain(domain)) {\n                            throw new resolutionError_1.ResolutionError(resolutionError_1.ResolutionErrorCode.UnsupportedDomain, {\n                                domain: domain,\n                            });\n                        }\n                        return [4 /*yield*/, this.getContractMapValue(this.registryAddr, 'records', this.namehash(domain))];\n                    case 1:\n                        registryRecord = _b.sent();\n                        if (!registryRecord) {\n                            return [2 /*return*/, undefined];\n                        }\n                        _a = registryRecord.arguments, ownerAddress = _a[0], resolverAddress = _a[1];\n                        return [2 /*return*/, [\n                                ownerAddress.startsWith('0x')\n                                    ? (0, znsUtils_1.toBech32Address)(ownerAddress)\n                                    : ownerAddress,\n                                resolverAddress,\n                            ]];\n                }\n            });\n        });\n    };\n    Zns.prototype.getResolverRecords = function (resolverAddress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolver;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if ((0, utils_1.isNullAddress)(resolverAddress)) {\n                            return [2 /*return*/, {}];\n                        }\n                        resolver = (0, znsUtils_1.toChecksumAddress)(resolverAddress);\n                        return [4 /*yield*/, this.getContractField(resolver, 'records')];\n                    case 1: return [2 /*return*/, ((_a.sent()) ||\n                            {})];\n                }\n            });\n        });\n    };\n    Zns.prototype.fetchSubState = function (contractAddress, field, keys) {\n        if (keys === void 0) { keys = []; }\n        return __awaiter(this, void 0, void 0, function () {\n            var params, method;\n            return __generator(this, function (_a) {\n                params = [contractAddress.replace('0x', ''), field, keys];\n                method = 'GetSmartContractSubState';\n                return [2 /*return*/, this.provider.request({ method: method, params: params })];\n            });\n        });\n    };\n    Zns.prototype.getContractField = function (contractAddress, field, keys) {\n        if (keys === void 0) { keys = []; }\n        return __awaiter(this, void 0, void 0, function () {\n            var contractAddr, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        contractAddr = contractAddress.startsWith('zil1')\n                            ? (0, znsUtils_1.fromBech32Address)(contractAddress)\n                            : contractAddress;\n                        return [4 /*yield*/, this.fetchSubState(contractAddr, field, keys)];\n                    case 1:\n                        result = (_a.sent()) || {};\n                        return [2 /*return*/, result[field]];\n                }\n            });\n        });\n    };\n    Zns.prototype.getContractMapValue = function (contractAddress, field, key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var record;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getContractField(contractAddress, field, [key])];\n                    case 1:\n                        record = _a.sent();\n                        return [2 /*return*/, (record && record[key]) || null];\n                }\n            });\n        });\n    };\n    Zns.prototype.checkDomain = function (domain) {\n        var tokens = domain.split('.');\n        return (!!tokens.length &&\n            tokens[tokens.length - 1] === 'zil' &&\n            tokens.every(function (v) { return !!v.length; }));\n    };\n    Zns.prototype.checkNetworkConfig = function (source) {\n        if (!source.network) {\n            throw new configurationError_1.default(configurationError_1.ConfigurationErrorCode.UnsupportedNetwork, {\n                method: publicTypes_1.NamingServiceName.ZNS,\n            });\n        }\n        if (!types_1.ZnsSupportedNetwork.guard(source.network)) {\n            this.checkCustomNetworkConfig(source);\n        }\n    };\n    Zns.prototype.checkRegistryAddress = function (address) {\n        // Represents both versions of Zilliqa addresses eth-like and bech32 zil-like\n        var addressValidator = new RegExp('^0x[a-fA-F0-9]{40}$|^zil1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{38}$');\n        if (!addressValidator.test(address)) {\n            throw new configurationError_1.default(configurationError_1.ConfigurationErrorCode.InvalidConfigurationField, {\n                method: this.name,\n                field: 'registryAddress',\n            });\n        }\n    };\n    Zns.prototype.checkCustomNetworkConfig = function (source) {\n        if (!source.registryAddress) {\n            throw new configurationError_1.default(configurationError_1.ConfigurationErrorCode.CustomNetworkConfigMissing, {\n                method: publicTypes_1.NamingServiceName.ZNS,\n                config: 'registryAddress',\n            });\n        }\n        if (!source['url'] && !source['provider']) {\n            throw new configurationError_1.default(configurationError_1.ConfigurationErrorCode.CustomNetworkConfigMissing, {\n                method: publicTypes_1.NamingServiceName.ZNS,\n                config: 'url or provider',\n            });\n        }\n    };\n    Zns.UrlMap = {\n        1: 'https://api.zilliqa.com',\n        333: 'https://dev-api.zilliqa.com',\n        111: 'http://localhost:4201',\n    };\n    Zns.NetworkNameMap = {\n        mainnet: 1,\n        testnet: 333,\n        localnet: 111,\n    };\n    Zns.RegistryMap = {\n        1: 'zil1jcgu2wlx6xejqk9jw3aaankw6lsjzeunx2j0jz',\n        333: 'zil1hyj6m5w4atcn7s806s69r0uh5g4t84e8gp6nps',\n    };\n    return Zns;\n}(NamingService_1.NamingService));\nexports.default = Zns;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar abi_1 = require(\"@ethersproject/abi\");\nvar EthereumContract = /** @class */ (function () {\n    function EthereumContract(abi, address, provider) {\n        this.abi = abi;\n        this.address = address;\n        this.provider = provider;\n        this.coder = new abi_1.Interface(this.abi);\n    }\n    EthereumContract.prototype.call = function (method, args) {\n        return __awaiter(this, void 0, void 0, function () {\n            var inputParam, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        inputParam = this.coder.encodeFunctionData(method, args);\n                        return [4 /*yield*/, this.callEth(inputParam)];\n                    case 1:\n                        response = (_a.sent());\n                        if (!response || response === '0x') {\n                            return [2 /*return*/, []];\n                        }\n                        return [2 /*return*/, this.coder.decodeFunctionResult(method, response)];\n                }\n            });\n        });\n    };\n    EthereumContract.prototype.multicall = function (callArgs) {\n        return __awaiter(this, void 0, void 0, function () {\n            var methods, _i, callArgs_1, call, inputParam, response, multicallResult, results, i;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        methods = [];\n                        for (_i = 0, callArgs_1 = callArgs; _i < callArgs_1.length; _i++) {\n                            call = callArgs_1[_i];\n                            methods.push(this.coder.encodeFunctionData(call.method, call.args));\n                        }\n                        inputParam = this.coder.encodeFunctionData('multicall', [methods]);\n                        return [4 /*yield*/, this.callEth(inputParam)];\n                    case 1:\n                        response = (_a.sent());\n                        if (!response || response === '0x') {\n                            return [2 /*return*/, []];\n                        }\n                        multicallResult = this.coder.decodeFunctionResult('multicall', response);\n                        results = [];\n                        for (i = 0; i < multicallResult.results.length; i++) {\n                            results.push(this.coder.decodeFunctionResult(callArgs[i].method, multicallResult.results[i]));\n                        }\n                        return [2 /*return*/, results];\n                }\n            });\n        });\n    };\n    EthereumContract.prototype.fetchLogs = function (eventName, tokenId, fromBlock) {\n        if (fromBlock === void 0) { fromBlock = 'earliest'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var topic, params, request;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        topic = this.coder.getEventTopic(eventName);\n                        params = [\n                            {\n                                fromBlock: fromBlock,\n                                toBlock: 'latest',\n                                address: this.address,\n                                topics: [topic, tokenId],\n                            },\n                        ];\n                        request = {\n                            method: 'eth_getLogs',\n                            params: params,\n                        };\n                        return [4 /*yield*/, this.provider.request(request)];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    EthereumContract.prototype.callEth = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, request;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        params = [\n                            {\n                                data: data,\n                                to: this.address,\n                            },\n                            'latest',\n                        ];\n                        request = {\n                            method: 'eth_call',\n                            params: params,\n                        };\n                        return [4 /*yield*/, this.provider.request(request)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    return EthereumContract;\n}());\nexports.default = EthereumContract;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = [\n    {\n        inputs: [\n            {\n                internalType: 'contract IUNSRegistry',\n                name: 'unsRegistry',\n                type: 'address',\n            },\n            {\n                internalType: 'contract ICNSRegistry',\n                name: 'cnsRegistry',\n                type: 'address',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'constructor',\n    },\n    {\n        inputs: [],\n        name: 'NAME',\n        outputs: [\n            {\n                internalType: 'string',\n                name: '',\n                type: 'string',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [],\n        name: 'VERSION',\n        outputs: [\n            {\n                internalType: 'string',\n                name: '',\n                type: 'string',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'address',\n                name: 'owner',\n                type: 'address',\n            },\n        ],\n        name: 'balanceOf',\n        outputs: [\n            {\n                internalType: 'uint256',\n                name: '',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n            {\n                internalType: 'string',\n                name: 'label',\n                type: 'string',\n            },\n        ],\n        name: 'childIdOf',\n        outputs: [\n            {\n                internalType: 'uint256',\n                name: '',\n                type: 'uint256',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'exists',\n        outputs: [\n            {\n                internalType: 'bool',\n                name: '',\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'string',\n                name: 'key',\n                type: 'string',\n            },\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'get',\n        outputs: [\n            {\n                internalType: 'string',\n                name: 'value',\n                type: 'string',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'getApproved',\n        outputs: [\n            {\n                internalType: 'address',\n                name: '',\n                type: 'address',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'keyHash',\n                type: 'uint256',\n            },\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'getByHash',\n        outputs: [\n            {\n                internalType: 'string',\n                name: 'key',\n                type: 'string',\n            },\n            {\n                internalType: 'string',\n                name: 'value',\n                type: 'string',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'string[]',\n                name: 'keys',\n                type: 'string[]',\n            },\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'getData',\n        outputs: [\n            {\n                internalType: 'address',\n                name: 'resolver',\n                type: 'address',\n            },\n            {\n                internalType: 'address',\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                internalType: 'string[]',\n                name: 'values',\n                type: 'string[]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256[]',\n                name: 'keyHashes',\n                type: 'uint256[]',\n            },\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'getDataByHash',\n        outputs: [\n            {\n                internalType: 'address',\n                name: 'resolver',\n                type: 'address',\n            },\n            {\n                internalType: 'address',\n                name: 'owner',\n                type: 'address',\n            },\n            {\n                internalType: 'string[]',\n                name: 'keys',\n                type: 'string[]',\n            },\n            {\n                internalType: 'string[]',\n                name: 'values',\n                type: 'string[]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256[]',\n                name: 'keyHashes',\n                type: 'uint256[]',\n            },\n            {\n                internalType: 'uint256[]',\n                name: 'tokenIds',\n                type: 'uint256[]',\n            },\n        ],\n        name: 'getDataByHashForMany',\n        outputs: [\n            {\n                internalType: 'address[]',\n                name: 'resolvers',\n                type: 'address[]',\n            },\n            {\n                internalType: 'address[]',\n                name: 'owners',\n                type: 'address[]',\n            },\n            {\n                internalType: 'string[][]',\n                name: 'keys',\n                type: 'string[][]',\n            },\n            {\n                internalType: 'string[][]',\n                name: 'values',\n                type: 'string[][]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'string[]',\n                name: 'keys',\n                type: 'string[]',\n            },\n            {\n                internalType: 'uint256[]',\n                name: 'tokenIds',\n                type: 'uint256[]',\n            },\n        ],\n        name: 'getDataForMany',\n        outputs: [\n            {\n                internalType: 'address[]',\n                name: 'resolvers',\n                type: 'address[]',\n            },\n            {\n                internalType: 'address[]',\n                name: 'owners',\n                type: 'address[]',\n            },\n            {\n                internalType: 'string[][]',\n                name: 'values',\n                type: 'string[][]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'string[]',\n                name: 'keys',\n                type: 'string[]',\n            },\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'getMany',\n        outputs: [\n            {\n                internalType: 'string[]',\n                name: 'values',\n                type: 'string[]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256[]',\n                name: 'keyHashes',\n                type: 'uint256[]',\n            },\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'getManyByHash',\n        outputs: [\n            {\n                internalType: 'string[]',\n                name: 'keys',\n                type: 'string[]',\n            },\n            {\n                internalType: 'string[]',\n                name: 'values',\n                type: 'string[]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'address',\n                name: '',\n                type: 'address',\n            },\n            {\n                internalType: 'address',\n                name: '',\n                type: 'address',\n            },\n        ],\n        name: 'isApprovedForAll',\n        outputs: [\n            {\n                internalType: 'bool',\n                name: '',\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'pure',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'address',\n                name: 'spender',\n                type: 'address',\n            },\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'isApprovedOrOwner',\n        outputs: [\n            {\n                internalType: 'bool',\n                name: '',\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'bytes[]',\n                name: 'data',\n                type: 'bytes[]',\n            },\n        ],\n        name: 'multicall',\n        outputs: [\n            {\n                internalType: 'bytes[]',\n                name: 'results',\n                type: 'bytes[]',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'ownerOf',\n        outputs: [\n            {\n                internalType: 'address',\n                name: '',\n                type: 'address',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256[]',\n                name: 'tokenIds',\n                type: 'uint256[]',\n            },\n        ],\n        name: 'ownerOfForMany',\n        outputs: [\n            {\n                internalType: 'address[]',\n                name: 'owners',\n                type: 'address[]',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'registryOf',\n        outputs: [\n            {\n                internalType: 'address',\n                name: '',\n                type: 'address',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'resolverOf',\n        outputs: [\n            {\n                internalType: 'address',\n                name: '',\n                type: 'address',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'bytes4',\n                name: 'interfaceId',\n                type: 'bytes4',\n            },\n        ],\n        name: 'supportsInterface',\n        outputs: [\n            {\n                internalType: 'bool',\n                name: '',\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [\n            {\n                internalType: 'uint256',\n                name: 'tokenId',\n                type: 'uint256',\n            },\n        ],\n        name: 'tokenURI',\n        outputs: [\n            {\n                internalType: 'string',\n                name: '',\n                type: 'string',\n            },\n        ],\n        stateMutability: 'view',\n        type: 'function',\n    },\n    {\n        inputs: [{ internalType: 'address', name: 'addr', type: 'address' }],\n        name: 'reverseOf',\n        outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n        stateMutability: 'view',\n        type: 'function',\n    },\n];\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationError = exports.ConfigurationErrorCode = void 0;\nvar ConfigurationErrorCode;\n(function (ConfigurationErrorCode) {\n    ConfigurationErrorCode[\"IncorrectProvider\"] = \"IncorrectProvider\";\n    ConfigurationErrorCode[\"UnsupportedNetwork\"] = \"UnsupportedNetwork\";\n    ConfigurationErrorCode[\"UnspecifiedUrl\"] = \"UnspecifiedUrl\";\n    ConfigurationErrorCode[\"NetworkConfigMissing\"] = \"NetworkConfigMissing\";\n    ConfigurationErrorCode[\"CustomNetworkConfigMissing\"] = \"CustomNetworkConfigMissing\";\n    ConfigurationErrorCode[\"InvalidConfigurationField\"] = \"InvalidProxyReader\";\n})(ConfigurationErrorCode = exports.ConfigurationErrorCode || (exports.ConfigurationErrorCode = {}));\n/**\n * @internal\n * Internal Mapping object from ConfigurationErrorCode to a ConfigurationErrorHandler\n */\nvar HandlersByCode = (_a = {},\n    _a[ConfigurationErrorCode.IncorrectProvider] = function () {\n        return \"Provider doesn't implement sendAsync or send method\";\n    },\n    _a[ConfigurationErrorCode.UnsupportedNetwork] = function (params) {\n        return \"Unsupported network in Resolution \".concat(params.method || '', \" configuration\");\n    },\n    _a[ConfigurationErrorCode.UnspecifiedUrl] = function (params) { return \"Unspecified url in Resolution \".concat(params.method, \" configuration\"); },\n    _a[ConfigurationErrorCode.NetworkConfigMissing] = function (params) {\n        return \"Missing configuration in Resolution \".concat(params.method, \". Please specify \").concat(params.config);\n    },\n    _a[ConfigurationErrorCode.CustomNetworkConfigMissing] = function (params) {\n        return \"Missing configuration in Resolution \".concat(params.method, \". Please specify \").concat(params.config, \" when using a custom network\");\n    },\n    _a[ConfigurationErrorCode.InvalidConfigurationField] = function (params) { return \"Invalid '\".concat(params.field, \"' in Resolution \").concat(params.method); },\n    _a);\n/**\n * Configuration Error class is designed to control every error being thrown by wrong configurations for objects\n * @param code - Error Code\n * - IncorrectProvider - When provider doesn't have implemented send or sendAsync methods\n * - UnsupportedNetwork - When network is not specified or not supported\n * - UnspecifiedUrl - When url is not specified for custom naming service configurations\n * - CustomNetworkConfigMissing - When configuration is missing for custom network configurations\n * @param method - optional param to specify which namingService errored out\n */\nvar ConfigurationError = /** @class */ (function (_super) {\n    __extends(ConfigurationError, _super);\n    function ConfigurationError(code, options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        var configurationErrorHandler = HandlersByCode[code];\n        _this = _super.call(this, configurationErrorHandler(options)) || this;\n        _this.code = code;\n        _this.method = options.method;\n        _this.name = 'ConfigurationError';\n        Object.setPrototypeOf(_this, ConfigurationError.prototype);\n        return _this;\n    }\n    return ConfigurationError;\n}(Error));\nexports.ConfigurationError = ConfigurationError;\nexports.default = ConfigurationError;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DnsRecordsError = exports.DnsRecordsErrorCode = void 0;\nvar DnsRecordsErrorCode;\n(function (DnsRecordsErrorCode) {\n    DnsRecordsErrorCode[\"InconsistentTtl\"] = \"InconsistentTtl\";\n    DnsRecordsErrorCode[\"DnsRecordCorrupted\"] = \"DnsRecordCorrupted\";\n})(DnsRecordsErrorCode = exports.DnsRecordsErrorCode || (exports.DnsRecordsErrorCode = {}));\n/**\n * @internal\n * Internal Mapping object from DnsRecordsErrorCode to a DnsRecordsErrorHandler\n */\nvar HandlersByCode = (_a = {},\n    _a[DnsRecordsErrorCode.InconsistentTtl] = function (params) {\n        return \"ttl for record \".concat(params.recordType, \" is different for other records of the same type\");\n    },\n    _a[DnsRecordsErrorCode.DnsRecordCorrupted] = function (params) {\n        return \"dns record \".concat(params.recordType, \" is invalid json-string\");\n    },\n    _a);\n/**\n * Configuration Error class is designed to control every error being thrown by wrong configurations for objects\n * @param code - Error Code\n * - IncorrectProvider - When provider doesn't have implemented send or sendAsync methods\n * - UnsupportedNetwork - When network is not specified or not supported\n * - UnspecifiedUrl - When url is not specified for custom naming service configurations\n * @param method - optional param to specify which namingService errored out\n */\nvar DnsRecordsError = /** @class */ (function (_super) {\n    __extends(DnsRecordsError, _super);\n    function DnsRecordsError(code, options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        var DnsRecordsErrorHandler = HandlersByCode[code];\n        _this = _super.call(this, DnsRecordsErrorHandler(options)) || this;\n        _this.code = code;\n        _this.name = 'DnsRecordsError';\n        Object.setPrototypeOf(_this, DnsRecordsError.prototype);\n        return _this;\n    }\n    return DnsRecordsError;\n}(Error));\nexports.DnsRecordsError = DnsRecordsError;\nexports.default = DnsRecordsError;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResolutionError = exports.ResolutionErrorCode = void 0;\nvar ResolutionErrorCode;\n(function (ResolutionErrorCode) {\n    ResolutionErrorCode[\"UnregisteredDomain\"] = \"UnregisteredDomain\";\n    ResolutionErrorCode[\"UnspecifiedResolver\"] = \"UnspecifiedResolver\";\n    ResolutionErrorCode[\"UnsupportedDomain\"] = \"UnsupportedDomain\";\n    ResolutionErrorCode[\"UnsupportedService\"] = \"UnsupportedService\";\n    ResolutionErrorCode[\"UnsupportedMethod\"] = \"UnsupportedMethod\";\n    ResolutionErrorCode[\"UnspecifiedCurrency\"] = \"UnspecifiedCurrency\";\n    ResolutionErrorCode[\"UnsupportedCurrency\"] = \"UnsupportedCurrency\";\n    ResolutionErrorCode[\"IncorrectResolverInterface\"] = \"IncorrectResolverInterface\";\n    ResolutionErrorCode[\"RecordNotFound\"] = \"RecordNotFound\";\n    ResolutionErrorCode[\"MetadataEndpointError\"] = \"MetadataEndpointError\";\n    ResolutionErrorCode[\"ServiceProviderError\"] = \"ServiceProviderError\";\n    ResolutionErrorCode[\"InvalidTwitterVerification\"] = \"InvalidTwitterVerification\";\n    ResolutionErrorCode[\"InconsistentDomainArray\"] = \"InconsistentDomainArray\";\n    ResolutionErrorCode[\"InvalidDomainAddress\"] = \"InvalidDomainAddress\";\n})(ResolutionErrorCode = exports.ResolutionErrorCode || (exports.ResolutionErrorCode = {}));\n/**\n * @internal\n * Internal Mapping object from ResolutionErrorCode to a ResolutionErrorHandler\n */\nvar HandlersByCode = (_a = {},\n    _a[ResolutionErrorCode.UnregisteredDomain] = function (params) {\n        return \"Domain \".concat(params.domain, \" is not registered\");\n    },\n    _a[ResolutionErrorCode.UnspecifiedResolver] = function (params) {\n        return \"\".concat(params.location ? \"\".concat(params.location, \": \") : '', \"Domain \").concat(params.domain, \" is not configured\");\n    },\n    _a[ResolutionErrorCode.UnsupportedDomain] = function (params) {\n        return \"Domain \".concat(params.domain, \" is not supported\");\n    },\n    _a[ResolutionErrorCode.UnsupportedMethod] = function (params) {\n        var _a;\n        // We normally expect a domain name, but in can be absent in the tests.\n        var zilHelp = ((_a = params.domain) === null || _a === void 0 ? void 0 : _a.endsWith('.zil'))\n            ? \" (if this method was called via the Resolution class with both UNS and ZNS providers configured not in the API mode, this error also means that the domain doesn't exist in UNS)\"\n            : '';\n        return \"Method \".concat(params.methodName, \" is not supported for \").concat(params.domain).concat(zilHelp);\n    },\n    _a[ResolutionErrorCode.InvalidTwitterVerification] = function (params) {\n        return \"\".concat(params.location ? \"\".concat(params.location, \": \") : '', \"Domain \").concat(params.domain, \" has invalid Twitter signature verification\");\n    },\n    _a[ResolutionErrorCode.UnsupportedCurrency] = function (params) { return \"\".concat(params.currencyTicker, \" is not supported\"); },\n    _a[ResolutionErrorCode.IncorrectResolverInterface] = function (params) { return \"Domain resolver is configured incorrectly for \".concat(params.method); },\n    _a[ResolutionErrorCode.RecordNotFound] = function (params) {\n        return \"\".concat(params.location ? \"\".concat(params.location, \": \") : '', \"No \").concat(params.recordName, \" record found for \").concat(params.domain);\n    },\n    _a[ResolutionErrorCode.ServiceProviderError] = function (params) { return \"< \".concat(params.providerMessage, \" >\"); },\n    _a[ResolutionErrorCode.MetadataEndpointError] = function (params) {\n        return \"Failed to query tokenUri \".concat(params.tokenUri, \". Error: \").concat(params.errorMessage);\n    },\n    _a[ResolutionErrorCode.UnsupportedService] = function (params) {\n        return \"Naming service \".concat(params.namingService, \" is not supported\");\n    },\n    _a[ResolutionErrorCode.InvalidDomainAddress] = function (params) {\n        return \"Domain address \".concat(params.domain, \" is invalid\");\n    },\n    _a);\n/**\n * Resolution Error class is designed to control every error being thrown by Resolution\n * @param code - Error Code\n * - UnsupportedDomain - domain is not supported by current Resolution instance\n * - UnregisteredDomain - domain is not owned by any address\n * - UnspecifiedResolver - domain has no resolver specified\n * - UnspecifiedCurrency - domain resolver doesn't have any address of specified currency\n * - UnsupportedCurrency - currency is not supported\n * - IncorrectResolverInterface - ResolverInterface is incorrected\n * - RecordNotFound - No record was found\n * @param domain - Domain name that was being used\n * @param method\n */\nvar ResolutionError = /** @class */ (function (_super) {\n    __extends(ResolutionError, _super);\n    function ResolutionError(code, options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        var resolutionErrorHandler = HandlersByCode[code];\n        var domain = options.domain, method = options.method, currencyTicker = options.currencyTicker;\n        var message = resolutionErrorHandler(options);\n        _this = _super.call(this, message) || this;\n        _this.code = code;\n        _this.domain = domain;\n        _this.method = method;\n        _this.currencyTicker = currencyTicker;\n        _this.name = 'ResolutionError';\n        Object.setPrototypeOf(_this, ResolutionError.prototype);\n        return _this;\n    }\n    return ResolutionError;\n}(Error));\nexports.ResolutionError = ResolutionError;\nexports.default = ResolutionError;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProviderFactories = exports.Eip1193Factories = exports.Eip1993Factories = exports.DnsRecordsErrorCode = exports.DnsRecordsError = exports.ConfigurationErrorCode = exports.ConfigurationError = exports.ResolutionErrorCode = exports.ResolutionError = exports.DnsUtils = exports.default = exports.Resolution = void 0;\nvar Resolution_1 = require(\"./Resolution\");\nObject.defineProperty(exports, \"Resolution\", { enumerable: true, get: function () { return Resolution_1.Resolution; } });\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return Resolution_1.Resolution; } });\n__exportStar(require(\"./types/publicTypes\"), exports);\nvar DnsUtils_1 = require(\"./utils/DnsUtils\");\nObject.defineProperty(exports, \"DnsUtils\", { enumerable: true, get: function () { return __importDefault(DnsUtils_1).default; } });\nvar resolutionError_1 = require(\"./errors/resolutionError\");\nObject.defineProperty(exports, \"ResolutionError\", { enumerable: true, get: function () { return resolutionError_1.ResolutionError; } });\nObject.defineProperty(exports, \"ResolutionErrorCode\", { enumerable: true, get: function () { return resolutionError_1.ResolutionErrorCode; } });\nvar configurationError_1 = require(\"./errors/configurationError\");\nObject.defineProperty(exports, \"ConfigurationError\", { enumerable: true, get: function () { return configurationError_1.ConfigurationError; } });\nObject.defineProperty(exports, \"ConfigurationErrorCode\", { enumerable: true, get: function () { return configurationError_1.ConfigurationErrorCode; } });\nvar dnsRecordsError_1 = require(\"./errors/dnsRecordsError\");\nObject.defineProperty(exports, \"DnsRecordsError\", { enumerable: true, get: function () { return dnsRecordsError_1.DnsRecordsError; } });\nObject.defineProperty(exports, \"DnsRecordsErrorCode\", { enumerable: true, get: function () { return dnsRecordsError_1.DnsRecordsErrorCode; } });\nvar Eip1993Factories_1 = require(\"./utils/Eip1993Factories\");\nObject.defineProperty(exports, \"Eip1993Factories\", { enumerable: true, get: function () { return Eip1993Factories_1.Eip1993Factories; } });\nvar Eip1993Factories_2 = require(\"./utils/Eip1993Factories\");\nObject.defineProperty(exports, \"Eip1193Factories\", { enumerable: true, get: function () { return Eip1993Factories_2.Eip1993Factories; } });\nvar Eip1993Factories_3 = require(\"./utils/Eip1993Factories\");\nObject.defineProperty(exports, \"ProviderFactories\", { enumerable: true, get: function () { return Eip1993Factories_3.Eip1993Factories; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasProvider = exports.ZnsSupportedNetwork = exports.UnsSupportedNetwork = exports.NullAddresses = exports.NullAddress = void 0;\nexports.NullAddress = '0x0000000000000000000000000000000000000000';\nvar NullAddresses;\n(function (NullAddresses) {\n    NullAddresses[NullAddresses[\"0x\"] = 0] = \"0x\";\n    NullAddresses[NullAddresses[\"0x0000000000000000000000000000000000000000\"] = 1] = \"0x0000000000000000000000000000000000000000\";\n    NullAddresses[NullAddresses[\"0x0000000000000000000000000000000000000000000000000000000000000000\"] = 2] = \"0x0000000000000000000000000000000000000000000000000000000000000000\";\n})(NullAddresses = exports.NullAddresses || (exports.NullAddresses = {}));\n// TypeScript will infer a string union type from the literal values passed to\n// this function. Without `extends string`, it would instead generalize them\n// to the common string type.\n// @see https://stackoverflow.com/questions/36836011/checking-validity-of-string-literal-union-type-at-runtime\nvar StringUnion = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    Object.freeze(values);\n    var valueSet = new Set(values);\n    var guard = function (value) {\n        return valueSet.has(value);\n    };\n    var check = function (value) {\n        if (!guard(value)) {\n            var actual = JSON.stringify(value);\n            var expected = values.map(function (s) { return JSON.stringify(s); }).join(' | ');\n            throw new TypeError(\"Value '\".concat(actual, \"' is not assignable to type '\").concat(expected, \"'.\"));\n        }\n        return value;\n    };\n    var unionNamespace = { guard: guard, check: check, values: values };\n    return Object.freeze(unionNamespace);\n};\nexports.UnsSupportedNetwork = StringUnion('mainnet', 'rinkeby', 'goerli', 'polygon-mainnet', 'polygon-mumbai');\nexports.ZnsSupportedNetwork = StringUnion('mainnet', 'testnet');\nfunction hasProvider(obj) {\n    return obj && !!obj.provider;\n}\nexports.hasProvider = hasProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BlockchainType = exports.DnsRecordType = exports.NamehashOptionsDefault = exports.UDApiDefaultUrl = exports.UnclaimedDomainResponse = exports.NamingServiceName = exports.UnsLocation = void 0;\nvar UnsLocation;\n(function (UnsLocation) {\n    UnsLocation[\"Layer1\"] = \"UNSLayer1\";\n    UnsLocation[\"Layer2\"] = \"UNSLayer2\";\n})(UnsLocation = exports.UnsLocation || (exports.UnsLocation = {}));\nvar NamingServiceName;\n(function (NamingServiceName) {\n    NamingServiceName[\"UNS\"] = \"UNS\";\n    NamingServiceName[\"ZNS\"] = \"ZNS\";\n})(NamingServiceName = exports.NamingServiceName || (exports.NamingServiceName = {}));\nexports.UnclaimedDomainResponse = {\n    addresses: {},\n    meta: {\n        domain: '',\n        namehash: '',\n        resolver: '',\n        owner: null,\n        type: '',\n        ttl: 0,\n        blockchain: null,\n    },\n    records: {},\n};\nexports.UDApiDefaultUrl = 'https://unstoppabledomains.com/api/v1';\nexports.NamehashOptionsDefault = {\n    format: 'hex',\n    prefix: true,\n    zns: false,\n};\nvar DnsRecordType;\n(function (DnsRecordType) {\n    DnsRecordType[\"A\"] = \"A\";\n    DnsRecordType[\"AAAA\"] = \"AAAA\";\n    DnsRecordType[\"AFSDB\"] = \"AFSDB\";\n    DnsRecordType[\"APL\"] = \"APL\";\n    DnsRecordType[\"CAA\"] = \"CAA\";\n    DnsRecordType[\"CDNSKEY\"] = \"CDNSKEY\";\n    DnsRecordType[\"CDS\"] = \"CDS\";\n    DnsRecordType[\"CERT\"] = \"CERT\";\n    DnsRecordType[\"CNAME\"] = \"CNAME\";\n    DnsRecordType[\"CSYNC\"] = \"CSYNC\";\n    DnsRecordType[\"DHCID\"] = \"DHCID\";\n    DnsRecordType[\"DLV\"] = \"DLV\";\n    DnsRecordType[\"DNAME\"] = \"DNAME\";\n    DnsRecordType[\"DNSKEY\"] = \"DNSKEY\";\n    DnsRecordType[\"DS\"] = \"DS\";\n    DnsRecordType[\"EUI48\"] = \"EUI48\";\n    DnsRecordType[\"EUI64\"] = \"EUI64\";\n    DnsRecordType[\"HINFO\"] = \"HINFO\";\n    DnsRecordType[\"HIP\"] = \"HIP\";\n    DnsRecordType[\"HTTPS\"] = \"HTTPS\";\n    DnsRecordType[\"IPSECKEY\"] = \"IPSECKEY\";\n    DnsRecordType[\"KEY\"] = \"KEY\";\n    DnsRecordType[\"KX\"] = \"KX\";\n    DnsRecordType[\"LOC\"] = \"LOC\";\n    DnsRecordType[\"MX\"] = \"MX\";\n    DnsRecordType[\"NAPTR\"] = \"NAPTR\";\n    DnsRecordType[\"NS\"] = \"NS\";\n    DnsRecordType[\"NSEC\"] = \"NSEC\";\n    DnsRecordType[\"NSEC3\"] = \"NSEC3\";\n    DnsRecordType[\"NSEC3PARAM\"] = \"NSEC3PARAM\";\n    DnsRecordType[\"OPENPGPKEY\"] = \"OPENPGPKEY\";\n    DnsRecordType[\"PTR\"] = \"PTR\";\n    DnsRecordType[\"RP\"] = \"RP\";\n    DnsRecordType[\"RRSIG\"] = \"RRSIG\";\n    DnsRecordType[\"SIG\"] = \"SIG\";\n    DnsRecordType[\"SMIMEA\"] = \"SMIMEA\";\n    DnsRecordType[\"SOA\"] = \"SOA\";\n    DnsRecordType[\"SRV\"] = \"SRV\";\n    DnsRecordType[\"SSHFP\"] = \"SSHFP\";\n    DnsRecordType[\"SVCB\"] = \"SVCB\";\n    DnsRecordType[\"TA\"] = \"TA\";\n    DnsRecordType[\"TKEY\"] = \"TKEY\";\n    DnsRecordType[\"TLSA\"] = \"TLSA\";\n    DnsRecordType[\"TSIG\"] = \"TSIG\";\n    DnsRecordType[\"TXT\"] = \"TXT\";\n    DnsRecordType[\"URI\"] = \"URI\";\n    DnsRecordType[\"ZONEMD\"] = \"ZONEMD\";\n})(DnsRecordType = exports.DnsRecordType || (exports.DnsRecordType = {}));\nvar BlockchainType;\n(function (BlockchainType) {\n    BlockchainType[\"ETH\"] = \"ETH\";\n    BlockchainType[\"MATIC\"] = \"MATIC\";\n    BlockchainType[\"ZIL\"] = \"ZIL\";\n})(BlockchainType = exports.BlockchainType || (exports.BlockchainType = {}));\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dnsRecordsError_1 = __importStar(require(\"../errors/dnsRecordsError\"));\nvar publicTypes_1 = require(\"../types/publicTypes\");\nvar DnsUtils = /** @class */ (function () {\n    function DnsUtils() {\n    }\n    DnsUtils.prototype.toList = function (record) {\n        var _a;\n        var _this = this;\n        var dnsTypes = this.getAllDnsTypes(record);\n        return (_a = []).concat.apply(_a, dnsTypes.map(function (type) { return _this.constructDnsRecords(record, type); }));\n    };\n    DnsUtils.prototype.toCrypto = function (records) {\n        var cryptoRecords = {};\n        for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            var type = record.type, TTL = record.TTL, data = record.data;\n            var ttlInRecord = this.getJsonNumber(cryptoRecords[\"dns.\".concat(type, \".ttl\")]);\n            var dnsInRecord = this.getJsonArray(cryptoRecords, \"dns.\".concat(type));\n            if (dnsInRecord) {\n                dnsInRecord.push(data);\n                cryptoRecords[\"dns.\".concat(type)] = JSON.stringify(dnsInRecord);\n            }\n            else {\n                cryptoRecords[\"dns.\".concat(type)] = JSON.stringify([data]);\n                cryptoRecords[\"dns.\".concat(type, \".ttl\")] = TTL.toString(10);\n            }\n            if (!!ttlInRecord && ttlInRecord !== TTL) {\n                throw new dnsRecordsError_1.default(dnsRecordsError_1.DnsRecordsErrorCode.InconsistentTtl, {\n                    recordType: type,\n                });\n            }\n        }\n        return cryptoRecords;\n    };\n    DnsUtils.prototype.protectFromCorruptRecord = function (rawRecord, type) {\n        try {\n            return rawRecord ? JSON.parse(rawRecord) : undefined;\n        }\n        catch (err) {\n            if (err instanceof SyntaxError) {\n                throw new dnsRecordsError_1.default(dnsRecordsError_1.DnsRecordsErrorCode.DnsRecordCorrupted, {\n                    recordType: type,\n                });\n            }\n            throw err;\n        }\n    };\n    DnsUtils.prototype.getJsonArray = function (cryptoRecrods, key) {\n        var rawRecord = cryptoRecrods[key];\n        var type = key.split('.')[1];\n        return this.protectFromCorruptRecord(rawRecord, type);\n    };\n    DnsUtils.prototype.getJsonNumber = function (rawRecord) {\n        return rawRecord ? parseInt(rawRecord, 10) : undefined;\n    };\n    DnsUtils.prototype.getAllDnsTypes = function (records) {\n        var keys = new Set();\n        Object.keys(records).forEach(function (key) {\n            var chunks = key.split('.');\n            var type = chunks[1] && chunks[1] !== 'ttl';\n            if (type) {\n                keys.add(publicTypes_1.DnsRecordType[chunks[1]]);\n            }\n        });\n        return Array.from(keys);\n    };\n    DnsUtils.prototype.constructDnsRecords = function (cryptoData, type) {\n        var TTL = this.parseTtl(cryptoData, type);\n        var jsonValueString = cryptoData[\"dns.\".concat(type)];\n        if (!jsonValueString) {\n            return [];\n        }\n        var typeData = this.protectFromCorruptRecord(jsonValueString, type);\n        if (!this.isStringArray(typeData)) {\n            return [];\n        }\n        return typeData.map(function (data) { return ({ TTL: TTL, data: data, type: type }); });\n    };\n    DnsUtils.prototype.parseTtl = function (data, type) {\n        var defaultTtl = data['dns.ttl'];\n        var recordTtl = data[\"dns.\".concat(type, \".ttl\")];\n        if (recordTtl) {\n            var parsedInt = this.parseIfNumber(recordTtl);\n            if (parsedInt) {\n                return parsedInt;\n            }\n        }\n        if (defaultTtl) {\n            var parsedInt = this.parseIfNumber(defaultTtl);\n            if (parsedInt) {\n                return parsedInt;\n            }\n        }\n        return DnsUtils.DefaultTtl;\n    };\n    DnsUtils.prototype.parseIfNumber = function (str) {\n        var parsedInt = parseInt(str, 10);\n        if (!isNaN(parsedInt)) {\n            return parsedInt;\n        }\n    };\n    DnsUtils.prototype.isStringArray = function (value) {\n        if (value instanceof Array) {\n            return value.every(function (item) { return typeof item === 'string'; });\n        }\n        return false;\n    };\n    DnsUtils.DefaultTtl = 300; // 5 minutes\n    return DnsUtils;\n}());\nexports.default = DnsUtils;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Eip1993Factories = void 0;\nvar configurationError_1 = require(\"../errors/configurationError\");\nvar resolutionError_1 = __importStar(require(\"../errors/resolutionError\"));\nexports.Eip1993Factories = {\n    fromWeb3Version0Provider: fromWeb3Version0Provider,\n    fromWeb3Version1Provider: fromWeb3Version1Provider,\n    fromEthersProvider: fromEthersProvider,\n    fromZilliqaProvider: fromZilliqaProvider,\n};\n/**\n * Create a Provider instance from web3 0.x version provider\n * @param provider - an 0.x version provider from web3 ( must implement sendAsync(payload, callback) )\n * @see https://github.com/ethereum/web3.js/blob/0.20.7/lib/web3/httpprovider.js#L116\n */\nfunction fromWeb3Version0Provider(provider) {\n    if (provider.sendAsync === undefined) {\n        throw new configurationError_1.ConfigurationError(configurationError_1.ConfigurationErrorCode.IncorrectProvider);\n    }\n    return {\n        request: function (request) {\n            return new Promise(function (resolve, reject) {\n                provider.sendAsync({\n                    jsonrpc: '2.0',\n                    method: request.method,\n                    params: wrapArray(request.params),\n                    id: 1,\n                }, function (error, result) {\n                    if (error) {\n                        reject(error);\n                    }\n                    if (result.error) {\n                        reject(new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                            providerMessage: result.error,\n                        }));\n                    }\n                    resolve(result.result);\n                });\n            });\n        },\n    };\n}\n/**\n * Create a Provider instance from web3 1.x version provider\n * @param provider - an 1.x version provider from web3 ( must implement send(payload, callback) )\n * @see https://github.com/ethereum/web3.js/blob/1.x/packages/web3-core-helpers/types/index.d.ts#L165\n * @see https://github.com/ethereum/web3.js/blob/1.x/packages/web3-providers-http/src/index.js#L95\n */\nfunction fromWeb3Version1Provider(provider) {\n    if (provider.send === undefined) {\n        throw new configurationError_1.ConfigurationError(configurationError_1.ConfigurationErrorCode.IncorrectProvider);\n    }\n    return {\n        request: function (request) {\n            return new Promise(function (resolve, reject) {\n                provider.send({\n                    jsonrpc: '2.0',\n                    method: request.method,\n                    params: wrapArray(request.params),\n                    id: 1,\n                }, function (error, result) {\n                    if (error) {\n                        reject(error);\n                    }\n                    if (result.error) {\n                        reject(new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                            providerMessage: result.error,\n                        }));\n                    }\n                    resolve(result.result);\n                });\n            });\n        },\n    };\n}\n/**\n * Creates a Provider instance from a provider that implements Ethers Provider#call interface.\n * This wrapper support only `eth_call` method for now, which is enough for all the current Resolution functionality\n * @param provider - provider object\n * @see https://github.com/ethers-io/ethers.js/blob/v4-legacy/providers/abstract-provider.d.ts#L91\n * @see https://github.com/ethers-io/ethers.js/blob/v5.0.4/packages/abstract-provider/src.ts/index.ts#L224\n * @see https://docs.ethers.io/ethers.js/v5-beta/api-providers.html#jsonrpcprovider-inherits-from-provider\n * @see https://github.com/ethers-io/ethers.js/blob/master/packages/providers/src.ts/json-rpc-provider.ts\n */\nfunction fromEthersProvider(provider) {\n    var _this = this;\n    if (provider.call === undefined) {\n        throw new configurationError_1.ConfigurationError(configurationError_1.ConfigurationErrorCode.IncorrectProvider);\n    }\n    return {\n        request: function (request) { return __awaiter(_this, void 0, void 0, function () {\n            var _a, error_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 7, , 8]);\n                        _a = request.method;\n                        switch (_a) {\n                            case 'eth_call': return [3 /*break*/, 1];\n                            case 'eth_getLogs': return [3 /*break*/, 3];\n                        }\n                        return [3 /*break*/, 5];\n                    case 1: return [4 /*yield*/, provider.call(request.params[0])];\n                    case 2: return [2 /*return*/, _b.sent()];\n                    case 3: return [4 /*yield*/, provider.getLogs(request.params[0])];\n                    case 4: return [2 /*return*/, _b.sent()];\n                    case 5: throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                        providerMessage: \"Unsupported provider method \".concat(request.method),\n                    });\n                    case 6: return [3 /*break*/, 8];\n                    case 7:\n                        error_1 = _b.sent();\n                        throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                            providerMessage: error_1.message,\n                        });\n                    case 8: return [2 /*return*/];\n                }\n            });\n        }); },\n    };\n}\n/**\n * Creates a Provider instance from @zilliqa-js/core Provider\n * @param provider - provider object\n */\nfunction fromZilliqaProvider(provider) {\n    var _this = this;\n    if (provider.middleware === undefined || provider.send === undefined) {\n        throw new configurationError_1.ConfigurationError(configurationError_1.ConfigurationErrorCode.IncorrectProvider);\n    }\n    return {\n        request: function (request) { return __awaiter(_this, void 0, void 0, function () {\n            var resp, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, provider.send.apply(provider, __spreadArray([request.method], (request.params || []), false))];\n                    case 1:\n                        resp = _a.sent();\n                        if (resp.error) {\n                            throw new Error(resp.error.message);\n                        }\n                        return [2 /*return*/, resp.result];\n                    case 2:\n                        error_2 = _a.sent();\n                        throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.ServiceProviderError, {\n                            providerMessage: error_2.message,\n                        });\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); },\n    };\n}\nfunction wrapArray(params) {\n    if (params === void 0) { params = []; }\n    return params instanceof Array ? params : [params];\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\nvar Networking = /** @class */ (function () {\n    function Networking() {\n    }\n    Networking.fetch = function (url, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, (0, cross_fetch_1.default)(url, options)];\n            });\n        });\n    };\n    return Networking;\n}());\nexports.default = Networking;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidTwitterSignature = void 0;\nvar index_1 = require(\"./index\");\nvar js_sha3_1 = require(\"js-sha3\");\nvar recoverSignature_1 = require(\"./recoverSignature\");\nvar namehash_1 = require(\"./namehash\");\nvar TwitterVerificationAddress = '0x12cfb13522F13a78b650a8bCbFCf50b7CB899d82';\nvar isValidTwitterSignature = function (_a) {\n    var tokenId = _a.tokenId, owner = _a.owner, twitterHandle = _a.twitterHandle, validationSignature = _a.validationSignature;\n    var tokenIdInDecimals = (0, namehash_1.fromHexStringToDecimals)(tokenId);\n    var message = [\n        tokenIdInDecimals,\n        owner,\n        'social.twitter.username',\n        twitterHandle,\n    ]\n        .map(function (value) {\n        return '0x' + (0, js_sha3_1.keccak256)(value.startsWith('0x') ? (0, index_1.hexToBytes)(value) : value);\n    })\n        .reduce(function (message, hashedValue) { return message + hashedValue; }, '');\n    var signerAddress = (0, recoverSignature_1.recover)(message, validationSignature);\n    return signerAddress === TwitterVerificationAddress;\n};\nexports.isValidTwitterSignature = isValidTwitterSignature;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unwrapResult = exports.wrapResult = exports.EthereumNetworksInverted = exports.EthereumNetworks = exports.findNamingServiceName = exports.domainExtensionToNamingServiceName = exports.constructRecords = exports.isNullAddress = exports.hexToBytes = exports.signedLink = void 0;\nvar publicTypes_1 = require(\"../types/publicTypes\");\nvar types_1 = require(\"../types\");\nvar ProviderURLMap = {\n    infura: {\n        mainnet: 'https://mainnet.infura.io/v3/',\n        rinkeby: 'https://rinkeby.infura.io/v3/',\n        goerli: 'https://goerli.infura.io/v3/',\n        'polygon-mainnet': 'https://polygon-mainnet.infura.io/v3/',\n        'polygon-mumbai': 'https://polygon-mumbai.infura.io/v3/',\n    },\n    alchemy: {\n        mainnet: 'https://eth-mainnet.alchemyapi.io/v2/',\n        rinkeby: 'https://eth-rinkeby.alchemyapi.io/v2/',\n        goerli: 'https://eth-goerli.alchemyapi.io/v2/',\n        'polygon-mainnet': 'https://polygon-mainnet.g.alchemy.com/v2/',\n        'polygon-mumbai': 'https://polygon-mumbai.g.alchemy.com/v2/',\n    },\n};\nfunction signedLink(key, network, provider) {\n    if (network === void 0) { network = 'mainnet'; }\n    if (provider === void 0) { provider = 'alchemy'; }\n    var url = ProviderURLMap[provider][network];\n    return \"\".concat(url).concat(key);\n}\nexports.signedLink = signedLink;\nfunction hexToBytes(hexString) {\n    var hex = hexString.replace(/^0x/i, '');\n    var bytes = [];\n    for (var c = 0; c < hex.length; c += 2) {\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n    }\n    return bytes;\n}\nexports.hexToBytes = hexToBytes;\nfunction isNullAddress(key) {\n    if (!key) {\n        return true;\n    }\n    return Object.values(types_1.NullAddresses).includes(key);\n}\nexports.isNullAddress = isNullAddress;\nfunction constructRecords(keys, values) {\n    var records = {};\n    keys.forEach(function (key, index) {\n        records[key] =\n            (values instanceof Array ? values[index] : values === null || values === void 0 ? void 0 : values[key]) || '';\n    });\n    return records;\n}\nexports.constructRecords = constructRecords;\nexports.domainExtensionToNamingServiceName = {\n    crypto: publicTypes_1.NamingServiceName.UNS,\n    zil: publicTypes_1.NamingServiceName.ZNS,\n};\nvar findNamingServiceName = function (domain) {\n    var extension = domain.split('.').pop();\n    if (!extension) {\n        return '';\n    }\n    else if (extension in exports.domainExtensionToNamingServiceName) {\n        return exports.domainExtensionToNamingServiceName[extension];\n    }\n    else {\n        return exports.domainExtensionToNamingServiceName.crypto;\n    }\n};\nexports.findNamingServiceName = findNamingServiceName;\nexports.EthereumNetworks = {\n    mainnet: 1,\n    ropsten: 3,\n    rinkeby: 4,\n    goerli: 5,\n    'polygon-mainnet': 137,\n    'polygon-mumbai': 80001,\n};\nexports.EthereumNetworksInverted = {\n    1: 'mainnet',\n    3: 'ropsten',\n    4: 'rinkeby',\n    5: 'goerli',\n    137: 'polygon-mainnet',\n    80001: 'polygon-mumbai',\n};\nvar wrapResult = function (func) {\n    var callResult;\n    // Catch immediately in case it's not an async call.\n    try {\n        callResult = func();\n    }\n    catch (error) {\n        return Promise.resolve({ result: null, error: error });\n    }\n    // `Promise.resolve` will convert both promise-like objects and plain values to promises.\n    var promise = callResult instanceof Promise ? callResult : Promise.resolve(callResult);\n    // We wrap results and errors to avoid unhandled promise rejections in case we won't `await` every promise\n    // and return earlier.\n    return promise.then(function (result) { return ({ result: result, error: null }); }, function (error) { return ({ result: null, error: error }); });\n};\nexports.wrapResult = wrapResult;\nvar unwrapResult = function (wrappedResult) {\n    if (wrappedResult.error !== null) {\n        throw wrappedResult.error;\n    }\n    return wrappedResult.result;\n};\nexports.unwrapResult = unwrapResult;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromDecStringToHex = exports.fromHexStringToDecimals = exports.znsChildhash = exports.znsNamehash = exports.eip137Childhash = exports.eip137Namehash = void 0;\nvar sha256_1 = __importDefault(require(\"crypto-js/sha256\"));\nvar sha3_1 = __importDefault(require(\"crypto-js/sha3\"));\nvar enc_hex_1 = __importDefault(require(\"crypto-js/enc-hex\"));\nvar lib_typedarrays_1 = __importDefault(require(\"crypto-js/lib-typedarrays\"));\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\nfunction eip137Namehash(domain) {\n    var arr = hashArray(domain, 'sha3');\n    return arrayToHex(arr);\n}\nexports.eip137Namehash = eip137Namehash;\nfunction eip137Childhash(parentHash, label) {\n    return childhash(parentHash, label, 'sha3');\n}\nexports.eip137Childhash = eip137Childhash;\nfunction znsNamehash(domain) {\n    var arr = hashArray(domain, 'sha256');\n    return arrayToHex(arr);\n}\nexports.znsNamehash = znsNamehash;\nfunction znsChildhash(parentHash, label) {\n    return childhash(parentHash, label, 'sha256');\n}\nexports.znsChildhash = znsChildhash;\nfunction childhash(parentHash, label, hashingAlgo) {\n    var hash = hashingAlgo === 'sha256' ? sha256_1.default : sha3_1.default;\n    var opts = { outputLength: 256 };\n    var parent = parentHash.replace(/^0x/, '');\n    var childHash = enc_hex_1.default.stringify(hash(label, opts));\n    return \"0x\".concat(enc_hex_1.default.stringify(hash(enc_hex_1.default.parse(\"\".concat(parent).concat(childHash)), opts)));\n}\nfunction hashArray(domain, hashingAlgo) {\n    if (!domain) {\n        return lib_typedarrays_1.default.create(Array.from(new Uint8Array(8)));\n    }\n    var hash = hashingAlgo === 'sha256' ? sha256_1.default : sha3_1.default;\n    var opts = { outputLength: 256 };\n    var _a = domain.split('.'), label = _a[0], remainder = _a.slice(1);\n    var labelHash = hash(label, opts);\n    var remainderHash = hashArray(remainder.join('.'), hashingAlgo);\n    return hash(remainderHash.concat(labelHash), opts);\n}\nfunction arrayToHex(arr) {\n    return \"0x\".concat(enc_hex_1.default.stringify(arr));\n}\nfunction fromHexStringToDecimals(value) {\n    if (value.startsWith('0x')) {\n        var valueWithoutPrefix = value.slice(2, value.length);\n        var bn = new bn_js_1.default(valueWithoutPrefix, 16);\n        return bn.toString(10);\n    }\n    return value;\n}\nexports.fromHexStringToDecimals = fromHexStringToDecimals;\nfunction fromDecStringToHex(value) {\n    if (!value.startsWith('0x')) {\n        var bn = new bn_js_1.default(value, 10);\n        return \"0x\".concat(bn.toString(16));\n    }\n    return value;\n}\nexports.fromDecStringToHex = fromDecStringToHex;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepareAndValidateDomain = void 0;\nvar resolutionError_1 = __importStar(require(\"../errors/resolutionError\"));\n/**\n * Checks domain name for special symbols and returns address in lowercase without spaces\n * @throws Will throw an error if domain address contains special symbols\n * @param domain - a domain address\n */\nvar reg = RegExp('^[.a-z0-9-]+$');\nfunction prepareAndValidateDomain(domain) {\n    var retVal = domain ? domain.trim().toLowerCase() : '';\n    if (!reg.test(retVal)) {\n        throw new resolutionError_1.default(resolutionError_1.ResolutionErrorCode.InvalidDomainAddress, {\n            domain: domain,\n        });\n    }\n    return retVal;\n}\nexports.prepareAndValidateDomain = prepareAndValidateDomain;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.recover = exports.hashMessage = void 0;\n/* eslint-disable no-undef */\nvar js_sha3_1 = require(\"js-sha3\");\nvar index_1 = require(\"./index\");\nvar elliptic_1 = require(\"elliptic\");\nvar secp256k1 = new elliptic_1.ec('secp256k1');\nvar bytesLength = function (a) { return (a.length - 2) / 2; };\nvar bytesSlice = function (i, j, bs) {\n    return '0x' + bs.slice(i * 2 + 2, j * 2 + 2);\n};\nvar bytesToNumber = function (hex) { return parseInt(hex.slice(2), 16); };\nvar decodeSignature = function (hex) { return [\n    bytesSlice(64, bytesLength(hex), hex),\n    bytesSlice(0, 32, hex),\n    bytesSlice(32, 64, hex),\n]; };\nvar toChecksum = function (address) {\n    var addressHash = (0, js_sha3_1.keccak256)(address.slice(2));\n    var checksumAddress = '0x';\n    for (var i = 0; i < 40; i++) {\n        checksumAddress +=\n            parseInt(addressHash[i + 2], 16) > 7\n                ? address[i + 2].toUpperCase()\n                : address[i + 2];\n    }\n    return checksumAddress;\n};\nvar hashMessage = function (message) {\n    var messageBytes = (0, index_1.hexToBytes)(Buffer.from(message, 'utf8').toString('hex'));\n    var messageBuffer = Buffer.from(messageBytes);\n    var preamble = '\\x19Ethereum Signed Message:\\n' + messageBytes.length;\n    var preambleBuffer = Buffer.from(preamble);\n    var ethMessage = Buffer.concat([preambleBuffer, messageBuffer]);\n    return '0x' + (0, js_sha3_1.keccak256)(ethMessage.toString());\n};\nexports.hashMessage = hashMessage;\nvar recover = function (message, signature) {\n    var hash = (0, exports.hashMessage)(message);\n    var vals = decodeSignature(signature);\n    var vrs = {\n        v: bytesToNumber(vals[0]),\n        r: vals[1].slice(2),\n        s: vals[2].slice(2),\n    };\n    var ecPublicKey = secp256k1.recoverPubKey(Buffer.from(hash.slice(2), 'hex'), vrs, vrs.v < 2 ? vrs.v : 1 - (vrs.v % 2));\n    var publicKey = '0x' + ecPublicKey.encode('hex', false).slice(2);\n    var publicHash = '0x' + (0, js_sha3_1.keccak256)((0, index_1.hexToBytes)(publicKey));\n    return toChecksum('0x' + publicHash.slice(-40));\n};\nexports.recover = recover;\n","\"use strict\";\n/* eslint-disable no-undef */\n/**\n * All functionality below came from here https://github.com/Zilliqa/Zilliqa-JavaScript-Library/tree/dev/packages/zilliqa-js-crypto/src\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromBech32Address = exports.toBech32Address = exports.toChecksumAddress = void 0;\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\nvar sha256_1 = __importDefault(require(\"crypto-js/sha256\"));\nvar enc_hex_1 = __importDefault(require(\"crypto-js/enc-hex\"));\nvar CHARSET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\nvar GENERATOR = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\n// HRP is the human-readable part of zilliqa bech32 addresses\nvar HRP = 'zil';\nvar tHRP = 'tzil';\nfunction isByteString(str, len) {\n    return !!str.replace('0x', '').match(\"^[0-9a-fA-F]{\".concat(len, \"}$\"));\n}\nfunction isAddress(address) {\n    return isByteString(address, 40);\n}\n/**\n * convertBits\n *\n * groups buffers of a certain width to buffers of the desired width.\n *\n * For example, converts byte buffers to buffers of maximum 5 bit numbers,\n * padding those numbers as necessary. Necessary for encoding Ethereum-style\n * addresses as bech32 ones.\n * @param {Buffer} data\n * @param {number} fromWidth\n * @param {number} toWidth\n * @param {boolean} pad\n * @returns {Buffer|null}\n */\nfunction convertBits(data, fromWidth, toWidth, pad) {\n    if (pad === void 0) { pad = true; }\n    var acc = 0;\n    var bits = 0;\n    var ret = [];\n    var maxv = (1 << toWidth) - 1;\n    // tslint:disable-next-line\n    for (var p = 0; p < data.length; ++p) {\n        var value = data[p];\n        if (value < 0 || value >> fromWidth !== 0) {\n            return null;\n        }\n        acc = (acc << fromWidth) | value;\n        bits += fromWidth;\n        while (bits >= toWidth) {\n            bits -= toWidth;\n            ret.push((acc >> bits) & maxv);\n        }\n    }\n    if (pad) {\n        if (bits > 0) {\n            ret.push((acc << (toWidth - bits)) & maxv);\n        }\n    }\n    else if (bits >= fromWidth || (acc << (toWidth - bits)) & maxv) {\n        return null;\n    }\n    return Buffer.from(ret);\n}\nfunction hrpExpand(hrp) {\n    var ret = [];\n    var p;\n    for (p = 0; p < hrp.length; ++p) {\n        ret.push(hrp.charCodeAt(p) >> 5);\n    }\n    ret.push(0);\n    for (p = 0; p < hrp.length; ++p) {\n        ret.push(hrp.charCodeAt(p) & 31);\n    }\n    return Buffer.from(ret);\n}\nfunction polymod(values) {\n    var chk = 1;\n    // tslint:disable-next-line\n    for (var p = 0; p < values.length; ++p) {\n        var top_1 = chk >> 25;\n        chk = ((chk & 0x1ffffff) << 5) ^ values[p];\n        for (var i = 0; i < 5; ++i) {\n            if ((top_1 >> i) & 1) {\n                chk ^= GENERATOR[i];\n            }\n        }\n    }\n    return chk;\n}\nfunction createChecksum(hrp, data) {\n    var values = Buffer.concat([\n        Buffer.from(hrpExpand(hrp)),\n        data,\n        Buffer.from([0, 0, 0, 0, 0, 0]),\n    ]);\n    // var values = hrpExpand(hrp).concat(data).concat([0, 0, 0, 0, 0, 0]);\n    var mod = polymod(values) ^ 1;\n    var ret = [];\n    for (var p = 0; p < 6; ++p) {\n        ret.push((mod >> (5 * (5 - p))) & 31);\n    }\n    return Buffer.from(ret);\n}\nfunction verifyChecksum(hrp, data) {\n    return polymod(Buffer.concat([hrpExpand(hrp), data])) === 1;\n}\nfunction encode(hrp, data) {\n    var combined = Buffer.concat([data, createChecksum(hrp, data)]);\n    var ret = hrp + '1';\n    // tslint:disable-next-line\n    for (var p = 0; p < combined.length; ++p) {\n        ret += CHARSET.charAt(combined[p]);\n    }\n    return ret;\n}\nfunction decode(bechString) {\n    var p;\n    var hasLower = false;\n    var hasUpper = false;\n    for (p = 0; p < bechString.length; ++p) {\n        if (bechString.charCodeAt(p) < 33 || bechString.charCodeAt(p) > 126) {\n            return null;\n        }\n        if (bechString.charCodeAt(p) >= 97 && bechString.charCodeAt(p) <= 122) {\n            hasLower = true;\n        }\n        if (bechString.charCodeAt(p) >= 65 && bechString.charCodeAt(p) <= 90) {\n            hasUpper = true;\n        }\n    }\n    if (hasLower && hasUpper) {\n        return null;\n    }\n    bechString = bechString.toLowerCase();\n    var pos = bechString.lastIndexOf('1');\n    if (pos < 1 || pos + 7 > bechString.length || bechString.length > 90) {\n        return null;\n    }\n    var hrp = bechString.substring(0, pos);\n    var data = [];\n    for (p = pos + 1; p < bechString.length; ++p) {\n        var d = CHARSET.indexOf(bechString.charAt(p));\n        if (d === -1) {\n            return null;\n        }\n        data.push(d);\n    }\n    if (!verifyChecksum(hrp, Buffer.from(data))) {\n        return null;\n    }\n    return { hrp: hrp, data: Buffer.from(data.slice(0, data.length - 6)) };\n}\n/**\n * toChecksumAddress\n *\n * takes hex-encoded string and returns the corresponding address\n * @param {string} address\n * @returns {string}\n */\nvar toChecksumAddress = function (address) {\n    if (!isAddress(address)) {\n        throw new Error(\"\".concat(address, \" is not a valid base 16 address\"));\n    }\n    address = address.toLowerCase().replace('0x', '');\n    var hash = enc_hex_1.default.stringify((0, sha256_1.default)(enc_hex_1.default.parse(address)));\n    var v = new bn_js_1.default(hash, 'hex', 'be');\n    var ret = '0x';\n    for (var i = 0; i < address.length; i++) {\n        if ('0123456789'.indexOf(address[i]) !== -1) {\n            ret += address[i];\n        }\n        else {\n            ret += v.and(new bn_js_1.default(2).pow(new bn_js_1.default(255 - 6 * i))).gte(new bn_js_1.default(1))\n                ? address[i].toUpperCase()\n                : address[i].toLowerCase();\n        }\n    }\n    return ret;\n};\nexports.toChecksumAddress = toChecksumAddress;\n/**\n * toBech32Address\n *\n * Encodes a canonical 20-byte Ethereum-style address as a bech32 zilliqa\n * address.\n *\n * The expected format is zil1<address><checksum> where address and checksum\n * are the result of bech32 encoding a Buffer containing the address bytes.\n * @param {string} address 20 byte canonical address\n * @param {boolean} testnet\n * @returns {string} 38 char bech32 encoded zilliqa address\n */\nfunction toBech32Address(address, testnet) {\n    if (testnet === void 0) { testnet = false; }\n    if (!isAddress(address)) {\n        throw new Error('Invalid address format.');\n    }\n    var addrBz = convertBits(Buffer.from(address.replace('0x', ''), 'hex'), 8, 5);\n    if (addrBz === null) {\n        throw new Error('Could not convert byte Buffer to 5-bit Buffer');\n    }\n    return encode(testnet ? tHRP : HRP, addrBz);\n}\nexports.toBech32Address = toBech32Address;\n/**\n * fromBech32Address\n * @param {string} address - a valid Zilliqa bech32 address\n * @param {boolean} testnet\n * @returns {string} a canonical 20-byte Ethereum-style address\n */\nfunction fromBech32Address(address, testnet) {\n    if (testnet === void 0) { testnet = false; }\n    var res = decode(address);\n    if (res === null) {\n        throw new Error('Invalid bech32 address');\n    }\n    var hrp = res.hrp, data = res.data;\n    var shouldBe = testnet ? tHRP : HRP;\n    if (hrp !== shouldBe) {\n        throw new Error(\"Expected hrp to be \".concat(shouldBe, \" but got \").concat(hrp));\n    }\n    var buf = convertBits(data, 5, 8, false);\n    if (buf === null) {\n        throw new Error('Could not convert buffer to bytes');\n    }\n    return (0, exports.toChecksumAddress)(buf.toString('hex'));\n}\nexports.fromBech32Address = fromBech32Address;\n","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Hex;\n\n}));"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5qBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACreA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACziBA;AACA;AACA;AACA;AACA;AACA,QAOA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}